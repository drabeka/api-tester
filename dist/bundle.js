(()=>{var u=window.React,w=window.React.useState,U=window.React.useEffect,Ge=window.React.useRef,ze=window.React.useMemo,Vt=window.React.createElement,Wt=window.React.Fragment;var Je=window.ReactDOM,zt=window.ReactDOM.createRoot;function Ce({apis:e,selectedApiId:n,onSelect:r}){let[i,t]=w(""),[l,o]=w({}),a={GET:"#27ae60",POST:"#2980b9",PUT:"#e67e22",PATCH:"#f39c12",DELETE:"#e74c3c"},s=ze(()=>{let m=e.filter(x=>{if(!i)return!0;let y=i.toLowerCase();return x.name.toLowerCase().includes(y)||x.endpoint?.toLowerCase().includes(y)||x.method?.toLowerCase().includes(y)||x.tag?.toLowerCase().includes(y)}),c={};return m.forEach(x=>{let y=x.tag||"Sonstige";c[y]||(c[y]=[]),c[y].push(x)}),c},[e,i]),p=Object.keys(s).sort(),g=Object.values(s).reduce((m,c)=>m+c.length,0),f=m=>{o(c=>({...c,[m]:!c[m]}))};return u.createElement("div",{className:"api-selector"},u.createElement("div",{className:"api-search"},u.createElement("input",{type:"text",placeholder:"APIs suchen...",value:i,onChange:m=>t(m.target.value),className:"api-search-input"}),i&&u.createElement("span",{className:"api-search-count"},g," Treffer")),u.createElement("div",{className:"api-grouped-list"},p.map(m=>u.createElement("div",{key:m,className:"api-tag-group"},u.createElement("div",{className:"api-tag-header",onClick:()=>f(m)},u.createElement("span",{className:"api-tag-toggle"},l[m]?"\u25B8":"\u25BE"),u.createElement("span",{className:"api-tag-name"},m),u.createElement("span",{className:"api-tag-count"},s[m].length)),!l[m]&&u.createElement("div",{className:"api-tag-items"},s[m].map(c=>u.createElement("div",{key:c.id,className:`api-item ${n===c.id?"api-item-active":""}`,onClick:()=>r(c),title:c.description||c.endpoint},u.createElement("span",{className:"api-method-badge",style:{backgroundColor:a[c.method]||"#95a5a6"}},c.method),u.createElement("span",{className:"api-item-name"},c.name)))))),p.length===0&&u.createElement("div",{className:"api-empty"},i?"Keine APIs gefunden":"Keine APIs geladen")))}var $={HISTORY:"api_tester_history",FAVORITES:"api_tester_favorites",AUTH:"api_tester_auth"},mr=20,ie=(e,n=null)=>{try{let r=localStorage.getItem(e);return r?JSON.parse(r):n}catch(r){return console.error(`Error reading from localStorage (${e}):`,r),n}},Z=(e,n)=>{try{return localStorage.setItem(e,JSON.stringify(n)),!0}catch(r){return console.error(`Error writing to localStorage (${e}):`,r),!1}},fe=()=>ie($.HISTORY,[]),Xe=e=>{let n=fe(),r={id:Date.now(),timestamp:new Date().toISOString(),...e},i=[r,...n].slice(0,mr);return Z($.HISTORY,i),r},Qe=e=>{let r=fe().filter(i=>i.id!==e);Z($.HISTORY,r)},Ze=()=>{Z($.HISTORY,[])},Re=()=>ie($.FAVORITES,[]),en=e=>{let n=Re(),r=n.indexOf(e);return r>-1?n.splice(r,1):n.push(e),Z($.FAVORITES,n),n},nn=e=>Re().includes(e),de=e=>ie($.AUTH,{})[e]||null,rn=(e,n)=>{let r=ie($.AUTH,{});r[e]=n,Z($.AUTH,r)},tn=e=>{let n=ie($.AUTH,{});delete n[e],Z($.AUTH,n)};var hr=3e4;function gr(e,n,r){let i=e,t={},l={},o=[];if(r.forEach(a=>{let s=n[a.name],p=a.paramType||"body";if(!(s==null||s===""))switch(p){case"path":i=i.replace(`{${a.name}}`,encodeURIComponent(s));break;case"query":Array.isArray(s)?s.forEach(g=>{g!=null&&g!==""&&o.push(`${encodeURIComponent(a.name)}=${encodeURIComponent(g)}`)}):o.push(`${encodeURIComponent(a.name)}=${encodeURIComponent(s)}`);break;case"header":l[a.name]=s;break;case"body":default:t[a.name]=s;break}}),o.length>0){let a=i.includes("?")?"&":"?";i+=a+o.join("&")}return{finalEndpoint:i,bodyPayload:t,customHeaders:l}}async function on(e){let{endpoint:n,method:r="POST",payload:i={},fields:t=[],authConfig:l=null,apiId:o,apiName:a,timeout:s=hr,useProxy:p=!0,contentType:g="application/json",accept:f="*/*"}=e,{finalEndpoint:m,bodyPayload:c,customHeaders:x}=gr(n,i,t),y={...x};f&&(y.Accept=f);let h=c&&(typeof c=="string"?c.length>0:Object.keys(c).length>0);if(["POST","PUT","PATCH"].includes(r.toUpperCase())&&h&&(y["Content-Type"]=g),l){if(l.type==="bearer")y.Authorization=`Bearer ${l.token}`;else if(l.type==="apikey"){let N=l.keyName||l.headerName||"X-API-Key",K=l.keyLocation||"header",H=l.apiKey;if(H)switch(K){case"query":{let J=m.includes("?")?"&":"?";m+=`${J}${encodeURIComponent(N)}=${encodeURIComponent(H)}`;break}case"cookie":y.Cookie=`${N}=${H}`;break;case"header":default:y[N]=H;break}}}let C=Date.now(),d=null,b=null,T=null;try{let N=new AbortController,K=setTimeout(()=>N.abort(),s),H,J;p?(J="/api/proxy",H={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:m,method:r,headers:y,body:["POST","PUT","PATCH"].includes(r.toUpperCase())?c:void 0}),signal:N.signal}):(J=m,H={method:r,headers:y,signal:N.signal},["POST","PUT","PATCH"].includes(r.toUpperCase())&&(H.body=JSON.stringify(c))),d=await fetch(J,H),clearTimeout(K);let pe=await d.text();try{b=JSON.parse(pe)}catch{b=pe}}catch(N){T=N,N.name==="AbortError"&&(T=new Error(`Request timeout after ${s}ms`))}let A=Date.now()-C,S={apiId:o,apiName:a,endpoint:m,method:r,payload:c,status:d?d.status:0,statusText:d?d.statusText:"Network Error",responseData:b,error:T?T.message:null,duration:A};if(Xe(S),T)throw T;return{ok:d.ok,status:d.status,statusText:d.statusText,data:b,headers:Object.fromEntries(d.headers.entries()),duration:A}}function we(e){return typeof e=="object"?JSON.stringify(e,null,2):String(e)}function ln(e,n){let r={};return e.forEach(i=>{let t=n[i.name];if(i.required&&(t==null||t==="")){r[i.name]=i.requiredError||`${i.label} ist erforderlich`;return}if(!(t==null||t==="")){if(i.type==="number"){let l=parseFloat(t);if(isNaN(l)){r[i.name]=`${i.label} muss eine Zahl sein`;return}if(i.min!==void 0&&l<i.min){r[i.name]=i.minError||`${i.label} muss mindestens ${i.min} sein`;return}if(i.max!==void 0&&l>i.max){r[i.name]=i.maxError||`${i.label} darf maximal ${i.max} sein`;return}}if(i.type==="text"||i.type==="textarea"){let l=String(t);if(i.minLength!==void 0&&l.length<i.minLength){r[i.name]=i.minLengthError||`${i.label} muss mindestens ${i.minLength} Zeichen lang sein`;return}if(i.maxLength!==void 0&&l.length>i.maxLength){r[i.name]=i.maxLengthError||`${i.label} darf maximal ${i.maxLength} Zeichen lang sein`;return}if(i.pattern&&!new RegExp(i.pattern).test(l)){r[i.name]=i.patternError||`${i.label} hat ein ung\xFCltiges Format`;return}}}}),{valid:Object.keys(r).length===0,errors:r}}function q({label:e,type:n="text",name:r,value:i,onChange:t,onArrayChange:l,required:o=!1,error:a=null,placeholder:s="",helpText:p="",step:g,rows:f=4,options:m=[],min:c,max:x,minLength:y,maxLength:h,pattern:C,children:d,className:b="",paramType:T="body",itemType:A="text",itemOptions:S=[],itemFields:N=[]}){let K=r||`field-${Math.random().toString(36).substring(2,11)}`,H=()=>{let k=Array.isArray(i)?i:[],W=()=>{if(A==="object"&&N.length>0){let L={};N.forEach(_=>{L[_.name]=""}),l([...k,L])}else l([...k,""])},qe=L=>{l(k.filter((_,E)=>E!==L))},Ve=(L,_)=>{let E=[...k];E[L]=_,l(E)},We=(L,_,E)=>{let j=[...k];j[L]={...j[L],[_]:E},l(j)};return u.createElement("div",{className:"array-field-container"},k.map((L,_)=>A==="object"&&N.length>0?u.createElement("div",{key:_,className:"array-object-item"},u.createElement("div",{className:"array-object-header"},u.createElement("span",{className:"array-item-label"},"Item ",_+1),u.createElement("button",{type:"button",className:"array-remove-btn",onClick:()=>qe(_),title:"Entfernen"},"\u2715")),u.createElement("div",{className:"array-object-fields"},N.map(E=>u.createElement("div",{key:E.name,className:"array-sub-field"},u.createElement("label",null,E.label),E.type==="select"&&E.options?u.createElement("select",{value:L&&L[E.name]||"",onChange:j=>We(_,E.name,j.target.value)},u.createElement("option",{value:""},"-- Ausw\xE4hlen --"),E.options.map(j=>u.createElement("option",{key:j.value,value:j.value},j.label))):u.createElement("input",{type:E.type==="number"?"number":"text",value:L&&L[E.name]||"",onChange:j=>We(_,E.name,j.target.value),placeholder:E.placeholder||E.label}))))):u.createElement("div",{key:_,className:"array-item"},A==="select"&&S.length>0?u.createElement("select",{value:L||"",onChange:E=>Ve(_,E.target.value)},u.createElement("option",{value:""},"-- Ausw\xE4hlen --"),S.map(E=>u.createElement("option",{key:E.value,value:E.value},E.label))):u.createElement("input",{type:A==="number"?"number":"text",value:L||"",onChange:E=>Ve(_,E.target.value),placeholder:`Item ${_+1}`}),u.createElement("button",{type:"button",className:"array-remove-btn",onClick:()=>qe(_),title:"Entfernen"},"\u2715"))),u.createElement("button",{type:"button",className:"array-add-btn",onClick:W},"+ Hinzuf\xFCgen"))},J=()=>{if(n==="array")return H();if(n==="select")return u.createElement("select",{id:K,value:i||"",onChange:t,required:o},m.map(W=>u.createElement("option",{key:W.value,value:W.value},W.label)));if(n==="textarea")return u.createElement("textarea",{id:K,value:i||"",onChange:t,required:o,rows:f,placeholder:s,minLength:y,maxLength:h});let k={type:n,id:K,value:i||"",onChange:t,required:o,placeholder:s};return n==="number"&&(g!==void 0&&(k.step=g),c!==void 0&&(k.min=c),x!==void 0&&(k.max=x)),n==="text"&&(y!==void 0&&(k.minLength=y),h!==void 0&&(k.maxLength=h),C&&(k.pattern=C)),n==="date"&&(c!==void 0&&(k.min=c),x!==void 0&&(k.max=x)),u.createElement("input",{...k})},pe=()=>{let k={query:{label:"Query",color:"#3498db"},path:{label:"Path",color:"#e67e22"},header:{label:"Header",color:"#9b59b6"},body:{label:"Body",color:"#95a5a6"}},W=k[T]||k.body;return u.createElement("span",{className:"param-type-badge",style:{backgroundColor:W.color,color:"white",fontSize:"10px",padding:"2px 6px",borderRadius:"3px",marginLeft:"8px",fontWeight:"bold",textTransform:"uppercase"}},W.label)};return u.createElement("div",{className:`form-group ${b}`.trim()},u.createElement("label",{htmlFor:K},e,o&&u.createElement("span",{className:"required"},"*"),pe()),J(),a&&u.createElement("span",{className:"error-message"},a),p&&u.createElement("small",{className:"help-text"},p),d)}function B({icon:e,message:n,children:r,className:i=""}){return u.createElement("div",{className:`no-history ${i}`.trim()},e&&u.createElement("div",{style:{fontSize:"2em",marginBottom:"10px"}},e),u.createElement("p",null,n),r)}function Te({api:e,onResponse:n,initialValues:r=null}){let[i,t]=w({}),[l,o]=w({}),[a,s]=w(!1);U(()=>{if(e){let h={};p(e).forEach(d=>{r&&r[d.name]!==void 0?h[d.name]=r[d.name]:d.type==="array"?h[d.name]=d.defaultValue!==void 0?d.defaultValue:[]:h[d.name]=d.defaultValue!==void 0?d.defaultValue:""}),t(h),o({})}},[e,r]);let p=h=>h.sections?h.sections.flatMap(C=>C.fields||[]):h.fields||[],g=(h,C)=>{t(d=>({...d,[h]:C})),l[h]&&o(d=>{let b={...d};return delete b[h],b})},f=async h=>{h.preventDefault();let d=p(e).filter(T=>x(T)),b=ln(d,i);if(!b.valid){o(b.errors);return}s(!0),o({});try{let T={};d.forEach(N=>{i[N.name]!==void 0&&(T[N.name]=i[N.name])});let A=de(e.id),S=await on({endpoint:e.endpoint,method:e.method,payload:T,fields:d,authConfig:A,apiId:e.id,apiName:e.name,contentType:e.contentType,accept:e.accept,useProxy:e.corsProxy!==!1});n(S)}catch(T){n({ok:!1,status:0,statusText:"Error",data:null,error:T.message})}finally{s(!1)}},m=h=>{h.ctrlKey&&h.key==="Enter"&&f(h)},c=()=>{if(!e)return;let h={};p(e).forEach(d=>{let b=d.exampleValue!==void 0?d.exampleValue:d.defaultValue;b!==void 0?h[d.name]=b:d.type==="array"&&!h[d.name]&&(h[d.name]=[])}),t(h),o({})};if(!e)return u.createElement("div",{className:"request-form"},u.createElement(B,{icon:"\u{1F4DD}",message:"Bitte w\xE4hlen Sie eine API aus."}));let x=h=>{if(!h.showIf)return!0;let{field:C,value:d}=h.showIf,b=i[C];return Array.isArray(d)?d.includes(b):b===d},y=h=>{if(!x(h))return null;let C=b=>{let T=h.type==="number"?b.target.value===""?"":parseFloat(b.target.value):b.target.value;g(h.name,T)},d=b=>{g(h.name,b)};return u.createElement(q,{key:h.name,label:h.label,type:h.type,name:h.name,value:i[h.name],onChange:C,onArrayChange:d,required:h.required,error:l[h.name],placeholder:h.placeholder,helpText:h.helpText,step:h.step,rows:h.rows||4,options:h.options,min:h.min,max:h.max,minLength:h.minLength,maxLength:h.maxLength,pattern:h.pattern,paramType:h.paramType||"body",itemType:h.itemType,itemOptions:h.itemOptions,itemFields:h.itemFields})};return u.createElement("form",{className:"request-form",onSubmit:f,onKeyDown:m},e.sections?e.sections.map((h,C)=>u.createElement("div",{key:C,className:"form-section"},h.title&&u.createElement("h4",{className:"section-title"},h.title),h.description&&u.createElement("p",{className:"section-description"},h.description),u.createElement("div",{className:"section-fields"},(h.fields||[]).map(d=>y(d))))):(e.fields||[]).map(h=>y(h)),u.createElement("div",{className:"form-actions"},u.createElement("button",{type:"submit",className:"btn-primary btn-submit",disabled:a},a?"Sende...":"API aufrufen"),u.createElement("button",{type:"button",className:"btn-secondary",onClick:c},"\u{1F4CB} Beispielwerte f\xFCllen"),u.createElement("small",{className:"hint"},"Tipp: Strg+Enter zum Absenden")))}function me({variant:e="status",type:n="success",children:r,className:i=""}){let t="";return e==="status"?t=`status-badge ${n==="success"?"status-success":"status-error"}`:e==="duration"&&(t="duration-badge"),u.createElement("div",{className:`${t} ${i}`.trim()},r)}function Se({response:e}){let n=Ge(null),r=i=>(typeof i!="string"&&(i=we(i)),i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"([^"]+)":/g,'<span class="json-key">"$1"</span>:').replace(/: "([^"]*)"/g,': <span class="json-string">"$1"</span>').replace(/: (true|false)/g,': <span class="json-boolean">$1</span>').replace(/: (null)/g,': <span class="json-null">$1</span>').replace(/: (-?\d+\.?\d*)/g,': <span class="json-number">$1</span>'));return U(()=>{if(n.current&&e&&e.data!==null){let i=we(e.data),t=r(i);n.current.innerHTML=t}},[e]),e?u.createElement("div",{className:"response-viewer"},u.createElement("div",{className:"response-header"},u.createElement("h3",null,"Response"),u.createElement(me,{variant:"status",type:e.ok?"success":"error"},"HTTP ",e.status," ",e.statusText),e.duration&&u.createElement(me,{variant:"duration"},e.duration,"ms")),e.error?u.createElement("pre",{className:"response-content error"},"Fehler: ",e.error):u.createElement("pre",{ref:n,className:"response-content"})):u.createElement("div",{className:"response-viewer"},u.createElement("h3",null,"Response"),u.createElement("pre",{className:"response-content"},"Noch keine Anfrage gesendet."))}function Ne({apiId:e}){let[n,r]=w("none"),[i,t]=w(""),[l,o]=w(""),[a,s]=w("X-API-Key"),[p,g]=w("header");U(()=>{if(e){let c=de(e);c?(r(c.type),t(c.token||""),o(c.apiKey||""),s(c.keyName||c.headerName||"X-API-Key"),g(c.keyLocation||"header")):(r("none"),t(""),o(""),s("X-API-Key"),g("header"))}},[e]);let f=()=>{if(!e)return;let c={type:n};n==="bearer"?c.token=i:n==="apikey"&&(c.apiKey=l,c.keyName=a,c.keyLocation=p),rn(e,c),alert("Auth-Konfiguration gespeichert!")},m=()=>{e&&(tn(e),r("none"),t(""),o(""),s("X-API-Key"),g("header"),alert("Auth-Konfiguration gel\xF6scht!"))};return e?u.createElement("div",{className:"auth-config"},u.createElement("h3",null,"Authentifizierung"),u.createElement(q,{label:"Auth-Typ:",type:"select",name:"auth-type",value:n,onChange:c=>r(c.target.value),options:[{value:"none",label:"Keine"},{value:"bearer",label:"Bearer Token"},{value:"apikey",label:"API Key"}]}),n==="bearer"&&u.createElement(q,{label:"Bearer Token:",type:"text",name:"bearer-token",value:i,onChange:c=>t(c.target.value),placeholder:"Token eingeben..."},u.createElement("small",{className:"warning"},"\u26A0\uFE0F Nur f\xFCr Testzwecke! Token wird in LocalStorage gespeichert.")),n==="apikey"&&u.createElement(u.Fragment,null,u.createElement(q,{label:"API Key:",type:"text",name:"api-key",value:l,onChange:c=>o(c.target.value),placeholder:"API Key eingeben..."}),u.createElement(q,{label:"Key-Name:",type:"text",name:"key-name",value:a,onChange:c=>s(c.target.value),placeholder:"z.B. api_key, X-API-Key"}),u.createElement(q,{label:"Senden als:",type:"select",name:"key-location",value:p,onChange:c=>g(c.target.value),options:[{value:"header",label:"Header"},{value:"query",label:"Query Parameter"},{value:"cookie",label:"Cookie"}]},u.createElement("small",{className:"warning"},"\u26A0\uFE0F Nur f\xFCr Testzwecke! Key wird in LocalStorage gespeichert."))),u.createElement("div",{className:"auth-actions"},u.createElement("button",{onClick:f,className:"btn-primary"},"Speichern"),u.createElement("button",{onClick:m,className:"btn-secondary"},"L\xF6schen"))):u.createElement("div",{className:"auth-config"},u.createElement(B,{icon:"\u{1F510}",message:"Bitte w\xE4hlen Sie zuerst eine API aus."}))}function Ee({item:e,isFavorite:n,onToggleFavorite:r,onReplay:i,onDelete:t}){let l=e.status>=200&&e.status<300?"status-success":"status-error",o=a=>new Date(a).toLocaleString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"});return u.createElement("div",{className:"history-item"},u.createElement("div",{className:"history-item-header"},u.createElement("span",{className:"api-name"},e.apiName),u.createElement("span",{className:`status ${l}`},e.status," ",e.statusText),u.createElement("span",{className:"timestamp"},o(e.timestamp))),u.createElement("div",{className:"history-item-details"},u.createElement("div",{className:"endpoint"},u.createElement("strong",null,e.method)," ",e.endpoint),e.duration&&u.createElement("div",{className:"duration"},e.duration,"ms")),u.createElement("div",{className:"history-item-actions"},u.createElement("button",{className:"btn-icon",onClick:()=>r(e.id),title:n?"Favorit entfernen":"Als Favorit markieren"},n?"\u2B50":"\u2606"),u.createElement("button",{className:"btn-small btn-primary",onClick:()=>i(e)},"\u21BB Wiederholen"),u.createElement("button",{className:"btn-small btn-danger",onClick:()=>t(e.id)},"\u{1F5D1}\uFE0F L\xF6schen")))}function ke({onReplay:e}){let[n,r]=w([]),[i,t]=w([]),[l,o]=w("all"),a=()=>{let c=fe();r(c);let x=c.filter(y=>nn(y.id)).map(y=>y.id);t(x)};U(()=>{a()},[]);let s=c=>{confirm("M\xF6chten Sie diesen Eintrag wirklich l\xF6schen?")&&(Qe(c),a())},p=()=>{confirm("M\xF6chten Sie die gesamte Historie wirklich l\xF6schen?")&&(Ze(),a())},g=c=>{en(c),a()},f=c=>{e({apiId:c.apiId,payload:c.payload})},m=l==="favorites"?n.filter(c=>i.includes(c.id)):n;return u.createElement("div",{className:"history"},u.createElement("div",{className:"history-header"},u.createElement("h3",null,"Request-Historie"),u.createElement("div",{className:"history-controls"},u.createElement("div",{className:"filter-buttons"},u.createElement("button",{className:l==="all"?"active":"",onClick:()=>o("all")},"Alle (",n.length,")"),u.createElement("button",{className:l==="favorites"?"active":"",onClick:()=>o("favorites")},"\u2B50 Favoriten (",i.length,")")),n.length>0&&u.createElement("button",{className:"btn-danger btn-small",onClick:p},"Alle l\xF6schen"))),m.length===0?u.createElement(B,{icon:l==="favorites"?"\u2B50":"\u{1F4DC}",message:l==="favorites"?"Keine Favoriten vorhanden.":"Noch keine Requests in der Historie."}):u.createElement("div",{className:"history-list"},m.map(c=>u.createElement(Ee,{key:c.id,item:c,isFavorite:i.includes(c.id),onToggleFavorite:g,onReplay:f,onDelete:s}))))}function te({tabs:e,activeTab:n,onChange:r,className:i=""}){return u.createElement("div",{className:`tabs ${i}`.trim()},e.map(t=>u.createElement("button",{key:t.id,className:`tab ${n===t.id?"active":""}`,onClick:()=>r(t.id)},t.label)))}function an(e,n={}){let{baseUrl:r="",selectedPaths:i=null,sourceOrigin:t=null}=n;if(!e||!e.paths)throw new Error('Ung\xFCltige OpenAPI Specification: "paths" fehlt');let l=[],o=e.paths;for(let[a,s]of Object.entries(o))for(let[p,g]of Object.entries(s)){if(!["get","post","put","patch","delete"].includes(p.toLowerCase())||i&&!i.includes(`${p.toUpperCase()} ${a}`))continue;let f=yr(a,p,g,e,r,t);f&&l.push(f)}return l}function yr(e,n,r,i,t,l=null){let o=(r.operationId||`${n}_${e}`).toLowerCase().replace(/[^a-z0-9_]/g,"_"),a=r.summary||r.operationId||`${n.toUpperCase()} ${e}`,s=t?`${t}${e}`:wr(i,l)+e,p=vr(r.requestBody,i),f=[...xr(r.parameters,i),...p],m=Cr(i,r),c=r.tags&&r.tags.length>0?r.tags[0]:"Sonstige";return{id:o,name:a,description:r.description||r.summary||"",endpoint:s,method:n.toUpperCase(),auth:m,fields:f,tag:c}}function vr(e,n){if(!e||!e.content)return[];let r=e.content["application/json"];if(!r||!r.schema)return[];let i=r.schema,t=un(i,[],n);return t.forEach(l=>{l.paramType="body"}),t}function xr(e,n){if(!e||e.length===0)return[];let r=[];for(let i of e){if(i.$ref&&n&&(i=he(i.$ref,n),!i)||!["query","path","header"].includes(i.in))continue;let t={name:i.name,label:cn(i.name),required:i.required||i.in==="path",paramType:i.in},l=i.schema||{};switch(l.type){case"string":t.type="text";break;case"integer":case"number":t.type="number";break;case"boolean":t.type="select",t.options=[{value:"true",label:"true"},{value:"false",label:"false"}];break;case"array":t.type="array",l.items?l.items.enum?(t.itemType="select",t.itemOptions=l.items.enum.map(o=>({value:o.toString(),label:o.toString()}))):l.items.type==="integer"||l.items.type==="number"?t.itemType="number":t.itemType="text":t.itemType="text";break;default:t.type="text"}l.enum&&t.type!=="array"&&(t.type="select",t.options=l.enum.map(o=>({value:o.toString(),label:o.toString()}))),sn(t,l),l.default!==void 0&&(t.defaultValue=l.default),i.description&&(t.helpText=i.description),l.example!==void 0?t.exampleValue=l.example:i.example!==void 0&&(t.exampleValue=i.example),r.push(t)}return r}function un(e,n=[],r=null){let i=[];if(e.$ref&&r&&(e=he(e.$ref,r)),!e||!e.properties)return i;let t=e.required||n;for(let[l,o]of Object.entries(e.properties)){let a=o;o.$ref&&r&&(a=he(o.$ref,r));let s=br(l,a,t.includes(l),r);s&&i.push(s)}return i}function br(e,n,r,i=null){let t={name:e,label:n.title||cn(e),required:r};switch(n.type){case"string":t.type=Ar(n);break;case"integer":case"number":t.type="number";break;case"boolean":t.type="select",t.options=[{value:!0,label:"Ja"},{value:!1,label:"Nein"}];break;case"array":if(t.type="array",n.items){let l=n.items;l.$ref&&i&&(l=he(l.$ref,i)),l?l.type==="object"||l.properties?(t.itemType="object",t.itemFields=un(l,[],i)):l.enum?(t.itemType="select",t.itemOptions=l.enum.map(o=>({value:o.toString(),label:o.toString()}))):l.type==="integer"||l.type==="number"?t.itemType="number":t.itemType="text":t.itemType="text"}else t.itemType="text";break;default:t.type="text"}return n.enum&&(t.type="select",t.options=n.enum.map(l=>({value:l,label:l.toString()}))),sn(t,n),n.default!==void 0&&(t.defaultValue=n.default),n.description&&(t.helpText=n.description),n.example!==void 0&&(t.exampleValue=n.example),t}function he(e,n){if(!e||!e.startsWith("#/"))return null;let r=e.substring(2).split("/"),i=n;for(let t of r){if(!i||!i[t])return console.warn(`Could not resolve $ref: ${e}`),null;i=i[t]}return i}function Ar(e){switch(e.format){case"date":case"date-time":return"date";case"email":return"text";default:return e.maxLength&&e.maxLength>100?"textarea":"text"}}function sn(e,n){n.type==="string"&&(n.minLength!==void 0&&(e.minLength=n.minLength),n.maxLength!==void 0&&(e.maxLength=n.maxLength),n.pattern&&(e.pattern=n.pattern),n.format==="email"&&(e.pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$",e.patternError="Bitte g\xFCltige E-Mail-Adresse eingeben")),(n.type==="number"||n.type==="integer")&&(n.minimum!==void 0&&(e.min=n.minimum),n.maximum!==void 0&&(e.max=n.maximum),n.type==="integer"&&(e.step=1)),(n.format==="date"||n.format==="date-time")&&(n.minimum!==void 0&&(e.min=n.minimum),n.maximum!==void 0&&(e.max=n.maximum))}function Cr(e,n){let r={type:"none"},i=n.security||e.security;if(!i||i.length===0)return r;let t=i[0],l=Object.keys(t)[0];if(!e.components||!e.components.securitySchemes)return r;let o=e.components.securitySchemes[l];if(!o)return r;switch(o.type){case"http":o.scheme==="bearer"&&(r={type:"bearer"});break;case"apiKey":r={type:"apikey",keyName:o.name||"X-API-Key",keyLocation:o.in||"header"};break;default:r={type:"none"}}return r}function wr(e,n=null){if(e.servers&&e.servers.length>0){let r=e.servers[0].url;return r&&r.startsWith("/")?n?n+r:(console.warn("\u26A0\uFE0F OpenAPI server URL ist relativ, aber keine sourceOrigin verf\xFCgbar:",r),""):r||""}return console.warn("\u26A0\uFE0F Keine Server-Definition in OpenAPI Spec gefunden"),""}function cn(e){return e.replace(/([A-Z])/g," $1").replace(/[_-]/g," ").replace(/\b\w/g,n=>n.toUpperCase()).trim()}function Nn(e){return typeof e>"u"||e===null}function Tr(e){return typeof e=="object"&&e!==null}function Sr(e){return Array.isArray(e)?e:Nn(e)?[]:[e]}function Nr(e,n){var r,i,t,l;if(n)for(l=Object.keys(n),r=0,i=l.length;r<i;r+=1)t=l[r],e[t]=n[t];return e}function Er(e,n){var r="",i;for(i=0;i<n;i+=1)r+=e;return r}function kr(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var Ir=Nn,Fr=Tr,_r=Sr,Or=Er,Lr=kr,Pr=Nr,F={isNothing:Ir,isObject:Fr,toArray:_r,repeat:Or,isNegativeZero:Lr,extend:Pr};function En(e,n){var r="",i=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!n&&e.mark.snippet&&(r+=`

`+e.mark.snippet),i+" "+r):i}function le(e,n){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=n,this.message=En(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}le.prototype=Object.create(Error.prototype);le.prototype.constructor=le;le.prototype.toString=function(n){return this.name+": "+En(this,n)};var D=le;function Ie(e,n,r,i,t){var l="",o="",a=Math.floor(t/2)-1;return i-n>a&&(l=" ... ",n=i-a+l.length),r-i>a&&(o=" ...",r=i+a-o.length),{str:l+e.slice(n,r).replace(/\t/g,"\u2192")+o,pos:i-n+l.length}}function Fe(e,n){return F.repeat(" ",n-e.length)+e}function Dr(e,n){if(n=Object.create(n||null),!e.buffer)return null;n.maxLength||(n.maxLength=79),typeof n.indent!="number"&&(n.indent=1),typeof n.linesBefore!="number"&&(n.linesBefore=3),typeof n.linesAfter!="number"&&(n.linesAfter=2);for(var r=/\r?\n|\r|\0/g,i=[0],t=[],l,o=-1;l=r.exec(e.buffer);)t.push(l.index),i.push(l.index+l[0].length),e.position<=l.index&&o<0&&(o=i.length-2);o<0&&(o=i.length-1);var a="",s,p,g=Math.min(e.line+n.linesAfter,t.length).toString().length,f=n.maxLength-(n.indent+g+3);for(s=1;s<=n.linesBefore&&!(o-s<0);s++)p=Ie(e.buffer,i[o-s],t[o-s],e.position-(i[o]-i[o-s]),f),a=F.repeat(" ",n.indent)+Fe((e.line-s+1).toString(),g)+" | "+p.str+`
`+a;for(p=Ie(e.buffer,i[o],t[o],e.position,f),a+=F.repeat(" ",n.indent)+Fe((e.line+1).toString(),g)+" | "+p.str+`
`,a+=F.repeat("-",n.indent+g+3+p.pos)+`^
`,s=1;s<=n.linesAfter&&!(o+s>=t.length);s++)p=Ie(e.buffer,i[o+s],t[o+s],e.position-(i[o]-i[o+s]),f),a+=F.repeat(" ",n.indent)+Fe((e.line+s+1).toString(),g)+" | "+p.str+`
`;return a.replace(/\n$/,"")}var Mr=Dr,Hr=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],jr=["scalar","sequence","mapping"];function $r(e){var n={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(i){n[String(i)]=r})}),n}function Ur(e,n){if(n=n||{},Object.keys(n).forEach(function(r){if(Hr.indexOf(r)===-1)throw new D('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=n,this.tag=e,this.kind=n.kind||null,this.resolve=n.resolve||function(){return!0},this.construct=n.construct||function(r){return r},this.instanceOf=n.instanceOf||null,this.predicate=n.predicate||null,this.represent=n.represent||null,this.representName=n.representName||null,this.defaultStyle=n.defaultStyle||null,this.multi=n.multi||!1,this.styleAliases=$r(n.styleAliases||null),jr.indexOf(this.kind)===-1)throw new D('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var O=Ur;function pn(e,n){var r=[];return e[n].forEach(function(i){var t=r.length;r.forEach(function(l,o){l.tag===i.tag&&l.kind===i.kind&&l.multi===i.multi&&(t=o)}),r[t]=i}),r}function Br(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},n,r;function i(t){t.multi?(e.multi[t.kind].push(t),e.multi.fallback.push(t)):e[t.kind][t.tag]=e.fallback[t.tag]=t}for(n=0,r=arguments.length;n<r;n+=1)arguments[n].forEach(i);return e}function Oe(e){return this.extend(e)}Oe.prototype.extend=function(n){var r=[],i=[];if(n instanceof O)i.push(n);else if(Array.isArray(n))i=i.concat(n);else if(n&&(Array.isArray(n.implicit)||Array.isArray(n.explicit)))n.implicit&&(r=r.concat(n.implicit)),n.explicit&&(i=i.concat(n.explicit));else throw new D("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(l){if(!(l instanceof O))throw new D("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(l.loadKind&&l.loadKind!=="scalar")throw new D("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(l.multi)throw new D("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(l){if(!(l instanceof O))throw new D("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var t=Object.create(Oe.prototype);return t.implicit=(this.implicit||[]).concat(r),t.explicit=(this.explicit||[]).concat(i),t.compiledImplicit=pn(t,"implicit"),t.compiledExplicit=pn(t,"explicit"),t.compiledTypeMap=Br(t.compiledImplicit,t.compiledExplicit),t};var kn=Oe,In=new O("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),Fn=new O("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),_n=new O("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),On=new kn({explicit:[In,Fn,_n]});function Yr(e){if(e===null)return!0;var n=e.length;return n===1&&e==="~"||n===4&&(e==="null"||e==="Null"||e==="NULL")}function Kr(){return null}function qr(e){return e===null}var Ln=new O("tag:yaml.org,2002:null",{kind:"scalar",resolve:Yr,construct:Kr,predicate:qr,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function Vr(e){if(e===null)return!1;var n=e.length;return n===4&&(e==="true"||e==="True"||e==="TRUE")||n===5&&(e==="false"||e==="False"||e==="FALSE")}function Wr(e){return e==="true"||e==="True"||e==="TRUE"}function Gr(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var Pn=new O("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Vr,construct:Wr,predicate:Gr,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function zr(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function Jr(e){return 48<=e&&e<=55}function Xr(e){return 48<=e&&e<=57}function Qr(e){if(e===null)return!1;var n=e.length,r=0,i=!1,t;if(!n)return!1;if(t=e[r],(t==="-"||t==="+")&&(t=e[++r]),t==="0"){if(r+1===n)return!0;if(t=e[++r],t==="b"){for(r++;r<n;r++)if(t=e[r],t!=="_"){if(t!=="0"&&t!=="1")return!1;i=!0}return i&&t!=="_"}if(t==="x"){for(r++;r<n;r++)if(t=e[r],t!=="_"){if(!zr(e.charCodeAt(r)))return!1;i=!0}return i&&t!=="_"}if(t==="o"){for(r++;r<n;r++)if(t=e[r],t!=="_"){if(!Jr(e.charCodeAt(r)))return!1;i=!0}return i&&t!=="_"}}if(t==="_")return!1;for(;r<n;r++)if(t=e[r],t!=="_"){if(!Xr(e.charCodeAt(r)))return!1;i=!0}return!(!i||t==="_")}function Zr(e){var n=e,r=1,i;if(n.indexOf("_")!==-1&&(n=n.replace(/_/g,"")),i=n[0],(i==="-"||i==="+")&&(i==="-"&&(r=-1),n=n.slice(1),i=n[0]),n==="0")return 0;if(i==="0"){if(n[1]==="b")return r*parseInt(n.slice(2),2);if(n[1]==="x")return r*parseInt(n.slice(2),16);if(n[1]==="o")return r*parseInt(n.slice(2),8)}return r*parseInt(n,10)}function Rr(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!F.isNegativeZero(e)}var Dn=new O("tag:yaml.org,2002:int",{kind:"scalar",resolve:Qr,construct:Zr,predicate:Rr,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),ei=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function ni(e){return!(e===null||!ei.test(e)||e[e.length-1]==="_")}function ri(e){var n,r;return n=e.replace(/_/g,"").toLowerCase(),r=n[0]==="-"?-1:1,"+-".indexOf(n[0])>=0&&(n=n.slice(1)),n===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:n===".nan"?NaN:r*parseFloat(n,10)}var ii=/^[-+]?[0-9]+e/;function ti(e,n){var r;if(isNaN(e))switch(n){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(n){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(n){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(F.isNegativeZero(e))return"-0.0";return r=e.toString(10),ii.test(r)?r.replace("e",".e"):r}function oi(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||F.isNegativeZero(e))}var Mn=new O("tag:yaml.org,2002:float",{kind:"scalar",resolve:ni,construct:ri,predicate:oi,represent:ti,defaultStyle:"lowercase"}),Hn=On.extend({implicit:[Ln,Pn,Dn,Mn]}),jn=Hn,$n=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Un=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function li(e){return e===null?!1:$n.exec(e)!==null||Un.exec(e)!==null}function ai(e){var n,r,i,t,l,o,a,s=0,p=null,g,f,m;if(n=$n.exec(e),n===null&&(n=Un.exec(e)),n===null)throw new Error("Date resolve error");if(r=+n[1],i=+n[2]-1,t=+n[3],!n[4])return new Date(Date.UTC(r,i,t));if(l=+n[4],o=+n[5],a=+n[6],n[7]){for(s=n[7].slice(0,3);s.length<3;)s+="0";s=+s}return n[9]&&(g=+n[10],f=+(n[11]||0),p=(g*60+f)*6e4,n[9]==="-"&&(p=-p)),m=new Date(Date.UTC(r,i,t,l,o,a,s)),p&&m.setTime(m.getTime()-p),m}function ui(e){return e.toISOString()}var Bn=new O("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:li,construct:ai,instanceOf:Date,represent:ui});function si(e){return e==="<<"||e===null}var Yn=new O("tag:yaml.org,2002:merge",{kind:"scalar",resolve:si}),He=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function ci(e){if(e===null)return!1;var n,r,i=0,t=e.length,l=He;for(r=0;r<t;r++)if(n=l.indexOf(e.charAt(r)),!(n>64)){if(n<0)return!1;i+=6}return i%8===0}function pi(e){var n,r,i=e.replace(/[\r\n=]/g,""),t=i.length,l=He,o=0,a=[];for(n=0;n<t;n++)n%4===0&&n&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|l.indexOf(i.charAt(n));return r=t%4*6,r===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):r===18?(a.push(o>>10&255),a.push(o>>2&255)):r===12&&a.push(o>>4&255),new Uint8Array(a)}function fi(e){var n="",r=0,i,t,l=e.length,o=He;for(i=0;i<l;i++)i%3===0&&i&&(n+=o[r>>18&63],n+=o[r>>12&63],n+=o[r>>6&63],n+=o[r&63]),r=(r<<8)+e[i];return t=l%3,t===0?(n+=o[r>>18&63],n+=o[r>>12&63],n+=o[r>>6&63],n+=o[r&63]):t===2?(n+=o[r>>10&63],n+=o[r>>4&63],n+=o[r<<2&63],n+=o[64]):t===1&&(n+=o[r>>2&63],n+=o[r<<4&63],n+=o[64],n+=o[64]),n}function di(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var Kn=new O("tag:yaml.org,2002:binary",{kind:"scalar",resolve:ci,construct:pi,predicate:di,represent:fi}),mi=Object.prototype.hasOwnProperty,hi=Object.prototype.toString;function gi(e){if(e===null)return!0;var n=[],r,i,t,l,o,a=e;for(r=0,i=a.length;r<i;r+=1){if(t=a[r],o=!1,hi.call(t)!=="[object Object]")return!1;for(l in t)if(mi.call(t,l))if(!o)o=!0;else return!1;if(!o)return!1;if(n.indexOf(l)===-1)n.push(l);else return!1}return!0}function yi(e){return e!==null?e:[]}var qn=new O("tag:yaml.org,2002:omap",{kind:"sequence",resolve:gi,construct:yi}),vi=Object.prototype.toString;function xi(e){if(e===null)return!0;var n,r,i,t,l,o=e;for(l=new Array(o.length),n=0,r=o.length;n<r;n+=1){if(i=o[n],vi.call(i)!=="[object Object]"||(t=Object.keys(i),t.length!==1))return!1;l[n]=[t[0],i[t[0]]]}return!0}function bi(e){if(e===null)return[];var n,r,i,t,l,o=e;for(l=new Array(o.length),n=0,r=o.length;n<r;n+=1)i=o[n],t=Object.keys(i),l[n]=[t[0],i[t[0]]];return l}var Vn=new O("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:xi,construct:bi}),Ai=Object.prototype.hasOwnProperty;function Ci(e){if(e===null)return!0;var n,r=e;for(n in r)if(Ai.call(r,n)&&r[n]!==null)return!1;return!0}function wi(e){return e!==null?e:{}}var Wn=new O("tag:yaml.org,2002:set",{kind:"mapping",resolve:Ci,construct:wi}),je=jn.extend({implicit:[Bn,Yn],explicit:[Kn,qn,Vn,Wn]}),z=Object.prototype.hasOwnProperty,ge=1,Gn=2,zn=3,ye=4,_e=1,Ti=2,fn=3,Si=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Ni=/[\x85\u2028\u2029]/,Ei=/[,\[\]\{\}]/,Jn=/^(?:!|!!|![a-z\-]+!)$/i,Xn=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function dn(e){return Object.prototype.toString.call(e)}function Y(e){return e===10||e===13}function Q(e){return e===9||e===32}function M(e){return e===9||e===32||e===10||e===13}function ee(e){return e===44||e===91||e===93||e===123||e===125}function ki(e){var n;return 48<=e&&e<=57?e-48:(n=e|32,97<=n&&n<=102?n-97+10:-1)}function Ii(e){return e===120?2:e===117?4:e===85?8:0}function Fi(e){return 48<=e&&e<=57?e-48:-1}function mn(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function _i(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}function Qn(e,n,r){n==="__proto__"?Object.defineProperty(e,n,{configurable:!0,enumerable:!0,writable:!0,value:r}):e[n]=r}var Zn=new Array(256),Rn=new Array(256);for(X=0;X<256;X++)Zn[X]=mn(X)?1:0,Rn[X]=mn(X);var X;function Oi(e,n){this.input=e,this.filename=n.filename||null,this.schema=n.schema||je,this.onWarning=n.onWarning||null,this.legacy=n.legacy||!1,this.json=n.json||!1,this.listener=n.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function er(e,n){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=Mr(r),new D(n,r)}function v(e,n){throw er(e,n)}function ve(e,n){e.onWarning&&e.onWarning.call(null,er(e,n))}var hn={YAML:function(n,r,i){var t,l,o;n.version!==null&&v(n,"duplication of %YAML directive"),i.length!==1&&v(n,"YAML directive accepts exactly one argument"),t=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),t===null&&v(n,"ill-formed argument of the YAML directive"),l=parseInt(t[1],10),o=parseInt(t[2],10),l!==1&&v(n,"unacceptable YAML version of the document"),n.version=i[0],n.checkLineBreaks=o<2,o!==1&&o!==2&&ve(n,"unsupported YAML version of the document")},TAG:function(n,r,i){var t,l;i.length!==2&&v(n,"TAG directive accepts exactly two arguments"),t=i[0],l=i[1],Jn.test(t)||v(n,"ill-formed tag handle (first argument) of the TAG directive"),z.call(n.tagMap,t)&&v(n,'there is a previously declared suffix for "'+t+'" tag handle'),Xn.test(l)||v(n,"ill-formed tag prefix (second argument) of the TAG directive");try{l=decodeURIComponent(l)}catch{v(n,"tag prefix is malformed: "+l)}n.tagMap[t]=l}};function G(e,n,r,i){var t,l,o,a;if(n<r){if(a=e.input.slice(n,r),i)for(t=0,l=a.length;t<l;t+=1)o=a.charCodeAt(t),o===9||32<=o&&o<=1114111||v(e,"expected valid JSON character");else Si.test(a)&&v(e,"the stream contains non-printable characters");e.result+=a}}function gn(e,n,r,i){var t,l,o,a;for(F.isObject(r)||v(e,"cannot merge mappings; the provided source object is unacceptable"),t=Object.keys(r),o=0,a=t.length;o<a;o+=1)l=t[o],z.call(n,l)||(Qn(n,l,r[l]),i[l]=!0)}function ne(e,n,r,i,t,l,o,a,s){var p,g;if(Array.isArray(t))for(t=Array.prototype.slice.call(t),p=0,g=t.length;p<g;p+=1)Array.isArray(t[p])&&v(e,"nested arrays are not supported inside keys"),typeof t=="object"&&dn(t[p])==="[object Object]"&&(t[p]="[object Object]");if(typeof t=="object"&&dn(t)==="[object Object]"&&(t="[object Object]"),t=String(t),n===null&&(n={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(l))for(p=0,g=l.length;p<g;p+=1)gn(e,n,l[p],r);else gn(e,n,l,r);else!e.json&&!z.call(r,t)&&z.call(n,t)&&(e.line=o||e.line,e.lineStart=a||e.lineStart,e.position=s||e.position,v(e,"duplicated mapping key")),Qn(n,t,l),delete r[t];return n}function $e(e){var n;n=e.input.charCodeAt(e.position),n===10?e.position++:n===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):v(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function I(e,n,r){for(var i=0,t=e.input.charCodeAt(e.position);t!==0;){for(;Q(t);)t===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),t=e.input.charCodeAt(++e.position);if(n&&t===35)do t=e.input.charCodeAt(++e.position);while(t!==10&&t!==13&&t!==0);if(Y(t))for($e(e),t=e.input.charCodeAt(e.position),i++,e.lineIndent=0;t===32;)e.lineIndent++,t=e.input.charCodeAt(++e.position);else break}return r!==-1&&i!==0&&e.lineIndent<r&&ve(e,"deficient indentation"),i}function Ae(e){var n=e.position,r;return r=e.input.charCodeAt(n),!!((r===45||r===46)&&r===e.input.charCodeAt(n+1)&&r===e.input.charCodeAt(n+2)&&(n+=3,r=e.input.charCodeAt(n),r===0||M(r)))}function Ue(e,n){n===1?e.result+=" ":n>1&&(e.result+=F.repeat(`
`,n-1))}function Li(e,n,r){var i,t,l,o,a,s,p,g,f=e.kind,m=e.result,c;if(c=e.input.charCodeAt(e.position),M(c)||ee(c)||c===35||c===38||c===42||c===33||c===124||c===62||c===39||c===34||c===37||c===64||c===96||(c===63||c===45)&&(t=e.input.charCodeAt(e.position+1),M(t)||r&&ee(t)))return!1;for(e.kind="scalar",e.result="",l=o=e.position,a=!1;c!==0;){if(c===58){if(t=e.input.charCodeAt(e.position+1),M(t)||r&&ee(t))break}else if(c===35){if(i=e.input.charCodeAt(e.position-1),M(i))break}else{if(e.position===e.lineStart&&Ae(e)||r&&ee(c))break;if(Y(c))if(s=e.line,p=e.lineStart,g=e.lineIndent,I(e,!1,-1),e.lineIndent>=n){a=!0,c=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=s,e.lineStart=p,e.lineIndent=g;break}}a&&(G(e,l,o,!1),Ue(e,e.line-s),l=o=e.position,a=!1),Q(c)||(o=e.position+1),c=e.input.charCodeAt(++e.position)}return G(e,l,o,!1),e.result?!0:(e.kind=f,e.result=m,!1)}function Pi(e,n){var r,i,t;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,i=t=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(G(e,i,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)i=e.position,e.position++,t=e.position;else return!0;else Y(r)?(G(e,i,t,!0),Ue(e,I(e,!1,n)),i=t=e.position):e.position===e.lineStart&&Ae(e)?v(e,"unexpected end of the document within a single quoted scalar"):(e.position++,t=e.position);v(e,"unexpected end of the stream within a single quoted scalar")}function Di(e,n){var r,i,t,l,o,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=i=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return G(e,r,e.position,!0),e.position++,!0;if(a===92){if(G(e,r,e.position,!0),a=e.input.charCodeAt(++e.position),Y(a))I(e,!1,n);else if(a<256&&Zn[a])e.result+=Rn[a],e.position++;else if((o=Ii(a))>0){for(t=o,l=0;t>0;t--)a=e.input.charCodeAt(++e.position),(o=ki(a))>=0?l=(l<<4)+o:v(e,"expected hexadecimal character");e.result+=_i(l),e.position++}else v(e,"unknown escape sequence");r=i=e.position}else Y(a)?(G(e,r,i,!0),Ue(e,I(e,!1,n)),r=i=e.position):e.position===e.lineStart&&Ae(e)?v(e,"unexpected end of the document within a double quoted scalar"):(e.position++,i=e.position)}v(e,"unexpected end of the stream within a double quoted scalar")}function Mi(e,n){var r=!0,i,t,l,o=e.tag,a,s=e.anchor,p,g,f,m,c,x=Object.create(null),y,h,C,d;if(d=e.input.charCodeAt(e.position),d===91)g=93,c=!1,a=[];else if(d===123)g=125,c=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),d=e.input.charCodeAt(++e.position);d!==0;){if(I(e,!0,n),d=e.input.charCodeAt(e.position),d===g)return e.position++,e.tag=o,e.anchor=s,e.kind=c?"mapping":"sequence",e.result=a,!0;r?d===44&&v(e,"expected the node content, but found ','"):v(e,"missed comma between flow collection entries"),h=y=C=null,f=m=!1,d===63&&(p=e.input.charCodeAt(e.position+1),M(p)&&(f=m=!0,e.position++,I(e,!0,n))),i=e.line,t=e.lineStart,l=e.position,re(e,n,ge,!1,!0),h=e.tag,y=e.result,I(e,!0,n),d=e.input.charCodeAt(e.position),(m||e.line===i)&&d===58&&(f=!0,d=e.input.charCodeAt(++e.position),I(e,!0,n),re(e,n,ge,!1,!0),C=e.result),c?ne(e,a,x,h,y,C,i,t,l):f?a.push(ne(e,null,x,h,y,C,i,t,l)):a.push(y),I(e,!0,n),d=e.input.charCodeAt(e.position),d===44?(r=!0,d=e.input.charCodeAt(++e.position)):r=!1}v(e,"unexpected end of the stream within a flow collection")}function Hi(e,n){var r,i,t=_e,l=!1,o=!1,a=n,s=0,p=!1,g,f;if(f=e.input.charCodeAt(e.position),f===124)i=!1;else if(f===62)i=!0;else return!1;for(e.kind="scalar",e.result="";f!==0;)if(f=e.input.charCodeAt(++e.position),f===43||f===45)_e===t?t=f===43?fn:Ti:v(e,"repeat of a chomping mode identifier");else if((g=Fi(f))>=0)g===0?v(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?v(e,"repeat of an indentation width identifier"):(a=n+g-1,o=!0);else break;if(Q(f)){do f=e.input.charCodeAt(++e.position);while(Q(f));if(f===35)do f=e.input.charCodeAt(++e.position);while(!Y(f)&&f!==0)}for(;f!==0;){for($e(e),e.lineIndent=0,f=e.input.charCodeAt(e.position);(!o||e.lineIndent<a)&&f===32;)e.lineIndent++,f=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>a&&(a=e.lineIndent),Y(f)){s++;continue}if(e.lineIndent<a){t===fn?e.result+=F.repeat(`
`,l?1+s:s):t===_e&&l&&(e.result+=`
`);break}for(i?Q(f)?(p=!0,e.result+=F.repeat(`
`,l?1+s:s)):p?(p=!1,e.result+=F.repeat(`
`,s+1)):s===0?l&&(e.result+=" "):e.result+=F.repeat(`
`,s):e.result+=F.repeat(`
`,l?1+s:s),l=!0,o=!0,s=0,r=e.position;!Y(f)&&f!==0;)f=e.input.charCodeAt(++e.position);G(e,r,e.position,!1)}return!0}function yn(e,n){var r,i=e.tag,t=e.anchor,l=[],o,a=!1,s;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=l),s=e.input.charCodeAt(e.position);s!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,v(e,"tab characters must not be used in indentation")),!(s!==45||(o=e.input.charCodeAt(e.position+1),!M(o))));){if(a=!0,e.position++,I(e,!0,-1)&&e.lineIndent<=n){l.push(null),s=e.input.charCodeAt(e.position);continue}if(r=e.line,re(e,n,zn,!1,!0),l.push(e.result),I(e,!0,-1),s=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>n)&&s!==0)v(e,"bad indentation of a sequence entry");else if(e.lineIndent<n)break}return a?(e.tag=i,e.anchor=t,e.kind="sequence",e.result=l,!0):!1}function ji(e,n,r){var i,t,l,o,a,s,p=e.tag,g=e.anchor,f={},m=Object.create(null),c=null,x=null,y=null,h=!1,C=!1,d;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=f),d=e.input.charCodeAt(e.position);d!==0;){if(!h&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,v(e,"tab characters must not be used in indentation")),i=e.input.charCodeAt(e.position+1),l=e.line,(d===63||d===58)&&M(i))d===63?(h&&(ne(e,f,m,c,x,null,o,a,s),c=x=y=null),C=!0,h=!0,t=!0):h?(h=!1,t=!0):v(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,d=i;else{if(o=e.line,a=e.lineStart,s=e.position,!re(e,r,Gn,!1,!0))break;if(e.line===l){for(d=e.input.charCodeAt(e.position);Q(d);)d=e.input.charCodeAt(++e.position);if(d===58)d=e.input.charCodeAt(++e.position),M(d)||v(e,"a whitespace character is expected after the key-value separator within a block mapping"),h&&(ne(e,f,m,c,x,null,o,a,s),c=x=y=null),C=!0,h=!1,t=!1,c=e.tag,x=e.result;else if(C)v(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=p,e.anchor=g,!0}else if(C)v(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=p,e.anchor=g,!0}if((e.line===l||e.lineIndent>n)&&(h&&(o=e.line,a=e.lineStart,s=e.position),re(e,n,ye,!0,t)&&(h?x=e.result:y=e.result),h||(ne(e,f,m,c,x,y,o,a,s),c=x=y=null),I(e,!0,-1),d=e.input.charCodeAt(e.position)),(e.line===l||e.lineIndent>n)&&d!==0)v(e,"bad indentation of a mapping entry");else if(e.lineIndent<n)break}return h&&ne(e,f,m,c,x,null,o,a,s),C&&(e.tag=p,e.anchor=g,e.kind="mapping",e.result=f),C}function $i(e){var n,r=!1,i=!1,t,l,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&v(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(r=!0,o=e.input.charCodeAt(++e.position)):o===33?(i=!0,t="!!",o=e.input.charCodeAt(++e.position)):t="!",n=e.position,r){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(l=e.input.slice(n,e.position),o=e.input.charCodeAt(++e.position)):v(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!M(o);)o===33&&(i?v(e,"tag suffix cannot contain exclamation marks"):(t=e.input.slice(n-1,e.position+1),Jn.test(t)||v(e,"named tag handle cannot contain such characters"),i=!0,n=e.position+1)),o=e.input.charCodeAt(++e.position);l=e.input.slice(n,e.position),Ei.test(l)&&v(e,"tag suffix cannot contain flow indicator characters")}l&&!Xn.test(l)&&v(e,"tag name cannot contain such characters: "+l);try{l=decodeURIComponent(l)}catch{v(e,"tag name is malformed: "+l)}return r?e.tag=l:z.call(e.tagMap,t)?e.tag=e.tagMap[t]+l:t==="!"?e.tag="!"+l:t==="!!"?e.tag="tag:yaml.org,2002:"+l:v(e,'undeclared tag handle "'+t+'"'),!0}function Ui(e){var n,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&v(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),n=e.position;r!==0&&!M(r)&&!ee(r);)r=e.input.charCodeAt(++e.position);return e.position===n&&v(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(n,e.position),!0}function Bi(e){var n,r,i;if(i=e.input.charCodeAt(e.position),i!==42)return!1;for(i=e.input.charCodeAt(++e.position),n=e.position;i!==0&&!M(i)&&!ee(i);)i=e.input.charCodeAt(++e.position);return e.position===n&&v(e,"name of an alias node must contain at least one character"),r=e.input.slice(n,e.position),z.call(e.anchorMap,r)||v(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],I(e,!0,-1),!0}function re(e,n,r,i,t){var l,o,a,s=1,p=!1,g=!1,f,m,c,x,y,h;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,l=o=a=ye===r||zn===r,i&&I(e,!0,-1)&&(p=!0,e.lineIndent>n?s=1:e.lineIndent===n?s=0:e.lineIndent<n&&(s=-1)),s===1)for(;$i(e)||Ui(e);)I(e,!0,-1)?(p=!0,a=l,e.lineIndent>n?s=1:e.lineIndent===n?s=0:e.lineIndent<n&&(s=-1)):a=!1;if(a&&(a=p||t),(s===1||ye===r)&&(ge===r||Gn===r?y=n:y=n+1,h=e.position-e.lineStart,s===1?a&&(yn(e,h)||ji(e,h,y))||Mi(e,y)?g=!0:(o&&Hi(e,y)||Pi(e,y)||Di(e,y)?g=!0:Bi(e)?(g=!0,(e.tag!==null||e.anchor!==null)&&v(e,"alias node should not have any properties")):Li(e,y,ge===r)&&(g=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):s===0&&(g=a&&yn(e,h))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&v(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),f=0,m=e.implicitTypes.length;f<m;f+=1)if(x=e.implicitTypes[f],x.resolve(e.result)){e.result=x.construct(e.result),e.tag=x.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(z.call(e.typeMap[e.kind||"fallback"],e.tag))x=e.typeMap[e.kind||"fallback"][e.tag];else for(x=null,c=e.typeMap.multi[e.kind||"fallback"],f=0,m=c.length;f<m;f+=1)if(e.tag.slice(0,c[f].tag.length)===c[f].tag){x=c[f];break}x||v(e,"unknown tag !<"+e.tag+">"),e.result!==null&&x.kind!==e.kind&&v(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+x.kind+'", not "'+e.kind+'"'),x.resolve(e.result,e.tag)?(e.result=x.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):v(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||g}function Yi(e){var n=e.position,r,i,t,l=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(I(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(l=!0,o=e.input.charCodeAt(++e.position),r=e.position;o!==0&&!M(o);)o=e.input.charCodeAt(++e.position);for(i=e.input.slice(r,e.position),t=[],i.length<1&&v(e,"directive name must not be less than one character in length");o!==0;){for(;Q(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!Y(o));break}if(Y(o))break;for(r=e.position;o!==0&&!M(o);)o=e.input.charCodeAt(++e.position);t.push(e.input.slice(r,e.position))}o!==0&&$e(e),z.call(hn,i)?hn[i](e,i,t):ve(e,'unknown document directive "'+i+'"')}if(I(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,I(e,!0,-1)):l&&v(e,"directives end mark is expected"),re(e,e.lineIndent-1,ye,!1,!0),I(e,!0,-1),e.checkLineBreaks&&Ni.test(e.input.slice(n,e.position))&&ve(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Ae(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,I(e,!0,-1));return}if(e.position<e.length-1)v(e,"end of the stream or a document separator is expected");else return}function nr(e,n){e=String(e),n=n||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new Oi(e,n),i=e.indexOf("\0");for(i!==-1&&(r.position=i,v(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)Yi(r);return r.documents}function Ki(e,n,r){n!==null&&typeof n=="object"&&typeof r>"u"&&(r=n,n=null);var i=nr(e,r);if(typeof n!="function")return i;for(var t=0,l=i.length;t<l;t+=1)n(i[t])}function qi(e,n){var r=nr(e,n);if(r.length!==0){if(r.length===1)return r[0];throw new D("expected a single document in the stream, but found more")}}var Vi=Ki,Wi=qi,rr={loadAll:Vi,load:Wi},ir=Object.prototype.toString,tr=Object.prototype.hasOwnProperty,Be=65279,Gi=9,ae=10,zi=13,Ji=32,Xi=33,Qi=34,Le=35,Zi=37,Ri=38,et=39,nt=42,or=44,rt=45,xe=58,it=61,tt=62,ot=63,lt=64,lr=91,ar=93,at=96,ur=123,ut=124,sr=125,P={};P[0]="\\0";P[7]="\\a";P[8]="\\b";P[9]="\\t";P[10]="\\n";P[11]="\\v";P[12]="\\f";P[13]="\\r";P[27]="\\e";P[34]='\\"';P[92]="\\\\";P[133]="\\N";P[160]="\\_";P[8232]="\\L";P[8233]="\\P";var st=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],ct=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function pt(e,n){var r,i,t,l,o,a,s;if(n===null)return{};for(r={},i=Object.keys(n),t=0,l=i.length;t<l;t+=1)o=i[t],a=String(n[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),s=e.compiledTypeMap.fallback[o],s&&tr.call(s.styleAliases,a)&&(a=s.styleAliases[a]),r[o]=a;return r}function ft(e){var n,r,i;if(n=e.toString(16).toUpperCase(),e<=255)r="x",i=2;else if(e<=65535)r="u",i=4;else if(e<=4294967295)r="U",i=8;else throw new D("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+F.repeat("0",i-n.length)+n}var dt=1,ue=2;function mt(e){this.schema=e.schema||je,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=F.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=pt(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?ue:dt,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function vn(e,n){for(var r=F.repeat(" ",n),i=0,t=-1,l="",o,a=e.length;i<a;)t=e.indexOf(`
`,i),t===-1?(o=e.slice(i),i=a):(o=e.slice(i,t+1),i=t+1),o.length&&o!==`
`&&(l+=r),l+=o;return l}function Pe(e,n){return`
`+F.repeat(" ",e.indent*n)}function ht(e,n){var r,i,t;for(r=0,i=e.implicitTypes.length;r<i;r+=1)if(t=e.implicitTypes[r],t.resolve(n))return!0;return!1}function be(e){return e===Ji||e===Gi}function se(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==Be||65536<=e&&e<=1114111}function xn(e){return se(e)&&e!==Be&&e!==zi&&e!==ae}function bn(e,n,r){var i=xn(e),t=i&&!be(e);return(r?i:i&&e!==or&&e!==lr&&e!==ar&&e!==ur&&e!==sr)&&e!==Le&&!(n===xe&&!t)||xn(n)&&!be(n)&&e===Le||n===xe&&t}function gt(e){return se(e)&&e!==Be&&!be(e)&&e!==rt&&e!==ot&&e!==xe&&e!==or&&e!==lr&&e!==ar&&e!==ur&&e!==sr&&e!==Le&&e!==Ri&&e!==nt&&e!==Xi&&e!==ut&&e!==it&&e!==tt&&e!==et&&e!==Qi&&e!==Zi&&e!==lt&&e!==at}function yt(e){return!be(e)&&e!==xe}function oe(e,n){var r=e.charCodeAt(n),i;return r>=55296&&r<=56319&&n+1<e.length&&(i=e.charCodeAt(n+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function cr(e){var n=/^\n* /;return n.test(e)}var pr=1,De=2,fr=3,dr=4,R=5;function vt(e,n,r,i,t,l,o,a){var s,p=0,g=null,f=!1,m=!1,c=i!==-1,x=-1,y=gt(oe(e,0))&&yt(oe(e,e.length-1));if(n||o)for(s=0;s<e.length;p>=65536?s+=2:s++){if(p=oe(e,s),!se(p))return R;y=y&&bn(p,g,a),g=p}else{for(s=0;s<e.length;p>=65536?s+=2:s++){if(p=oe(e,s),p===ae)f=!0,c&&(m=m||s-x-1>i&&e[x+1]!==" ",x=s);else if(!se(p))return R;y=y&&bn(p,g,a),g=p}m=m||c&&s-x-1>i&&e[x+1]!==" "}return!f&&!m?y&&!o&&!t(e)?pr:l===ue?R:De:r>9&&cr(e)?R:o?l===ue?R:De:m?dr:fr}function xt(e,n,r,i,t){e.dump=function(){if(n.length===0)return e.quotingType===ue?'""':"''";if(!e.noCompatMode&&(st.indexOf(n)!==-1||ct.test(n)))return e.quotingType===ue?'"'+n+'"':"'"+n+"'";var l=e.indent*Math.max(1,r),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-l),a=i||e.flowLevel>-1&&r>=e.flowLevel;function s(p){return ht(e,p)}switch(vt(n,a,e.indent,o,s,e.quotingType,e.forceQuotes&&!i,t)){case pr:return n;case De:return"'"+n.replace(/'/g,"''")+"'";case fr:return"|"+An(n,e.indent)+Cn(vn(n,l));case dr:return">"+An(n,e.indent)+Cn(vn(bt(n,o),l));case R:return'"'+At(n)+'"';default:throw new D("impossible error: invalid scalar style")}}()}function An(e,n){var r=cr(e)?String(n):"",i=e[e.length-1]===`
`,t=i&&(e[e.length-2]===`
`||e===`
`),l=t?"+":i?"":"-";return r+l+`
`}function Cn(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function bt(e,n){for(var r=/(\n+)([^\n]*)/g,i=function(){var p=e.indexOf(`
`);return p=p!==-1?p:e.length,r.lastIndex=p,wn(e.slice(0,p),n)}(),t=e[0]===`
`||e[0]===" ",l,o;o=r.exec(e);){var a=o[1],s=o[2];l=s[0]===" ",i+=a+(!t&&!l&&s!==""?`
`:"")+wn(s,n),t=l}return i}function wn(e,n){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,i,t=0,l,o=0,a=0,s="";i=r.exec(e);)a=i.index,a-t>n&&(l=o>t?o:a,s+=`
`+e.slice(t,l),t=l+1),o=a;return s+=`
`,e.length-t>n&&o>t?s+=e.slice(t,o)+`
`+e.slice(o+1):s+=e.slice(t),s.slice(1)}function At(e){for(var n="",r=0,i,t=0;t<e.length;r>=65536?t+=2:t++)r=oe(e,t),i=P[r],!i&&se(r)?(n+=e[t],r>=65536&&(n+=e[t+1])):n+=i||ft(r);return n}function Ct(e,n,r){var i="",t=e.tag,l,o,a;for(l=0,o=r.length;l<o;l+=1)a=r[l],e.replacer&&(a=e.replacer.call(r,String(l),a)),(V(e,n,a,!1,!1)||typeof a>"u"&&V(e,n,null,!1,!1))&&(i!==""&&(i+=","+(e.condenseFlow?"":" ")),i+=e.dump);e.tag=t,e.dump="["+i+"]"}function Tn(e,n,r,i){var t="",l=e.tag,o,a,s;for(o=0,a=r.length;o<a;o+=1)s=r[o],e.replacer&&(s=e.replacer.call(r,String(o),s)),(V(e,n+1,s,!0,!0,!1,!0)||typeof s>"u"&&V(e,n+1,null,!0,!0,!1,!0))&&((!i||t!=="")&&(t+=Pe(e,n)),e.dump&&ae===e.dump.charCodeAt(0)?t+="-":t+="- ",t+=e.dump);e.tag=l,e.dump=t||"[]"}function wt(e,n,r){var i="",t=e.tag,l=Object.keys(r),o,a,s,p,g;for(o=0,a=l.length;o<a;o+=1)g="",i!==""&&(g+=", "),e.condenseFlow&&(g+='"'),s=l[o],p=r[s],e.replacer&&(p=e.replacer.call(r,s,p)),V(e,n,s,!1,!1)&&(e.dump.length>1024&&(g+="? "),g+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),V(e,n,p,!1,!1)&&(g+=e.dump,i+=g));e.tag=t,e.dump="{"+i+"}"}function Tt(e,n,r,i){var t="",l=e.tag,o=Object.keys(r),a,s,p,g,f,m;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new D("sortKeys must be a boolean or a function");for(a=0,s=o.length;a<s;a+=1)m="",(!i||t!=="")&&(m+=Pe(e,n)),p=o[a],g=r[p],e.replacer&&(g=e.replacer.call(r,p,g)),V(e,n+1,p,!0,!0,!0)&&(f=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,f&&(e.dump&&ae===e.dump.charCodeAt(0)?m+="?":m+="? "),m+=e.dump,f&&(m+=Pe(e,n)),V(e,n+1,g,!0,f)&&(e.dump&&ae===e.dump.charCodeAt(0)?m+=":":m+=": ",m+=e.dump,t+=m));e.tag=l,e.dump=t||"{}"}function Sn(e,n,r){var i,t,l,o,a,s;for(t=r?e.explicitTypes:e.implicitTypes,l=0,o=t.length;l<o;l+=1)if(a=t[l],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof n=="object"&&n instanceof a.instanceOf)&&(!a.predicate||a.predicate(n))){if(r?a.multi&&a.representName?e.tag=a.representName(n):e.tag=a.tag:e.tag="?",a.represent){if(s=e.styleMap[a.tag]||a.defaultStyle,ir.call(a.represent)==="[object Function]")i=a.represent(n,s);else if(tr.call(a.represent,s))i=a.represent[s](n,s);else throw new D("!<"+a.tag+'> tag resolver accepts not "'+s+'" style');e.dump=i}return!0}return!1}function V(e,n,r,i,t,l,o){e.tag=null,e.dump=r,Sn(e,r,!1)||Sn(e,r,!0);var a=ir.call(e.dump),s=i,p;i&&(i=e.flowLevel<0||e.flowLevel>n);var g=a==="[object Object]"||a==="[object Array]",f,m;if(g&&(f=e.duplicates.indexOf(r),m=f!==-1),(e.tag!==null&&e.tag!=="?"||m||e.indent!==2&&n>0)&&(t=!1),m&&e.usedDuplicates[f])e.dump="*ref_"+f;else{if(g&&m&&!e.usedDuplicates[f]&&(e.usedDuplicates[f]=!0),a==="[object Object]")i&&Object.keys(e.dump).length!==0?(Tt(e,n,e.dump,t),m&&(e.dump="&ref_"+f+e.dump)):(wt(e,n,e.dump),m&&(e.dump="&ref_"+f+" "+e.dump));else if(a==="[object Array]")i&&e.dump.length!==0?(e.noArrayIndent&&!o&&n>0?Tn(e,n-1,e.dump,t):Tn(e,n,e.dump,t),m&&(e.dump="&ref_"+f+e.dump)):(Ct(e,n,e.dump),m&&(e.dump="&ref_"+f+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&xt(e,e.dump,n,l,s);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new D("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(p=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?p="!"+p:p.slice(0,18)==="tag:yaml.org,2002:"?p="!!"+p.slice(18):p="!<"+p+">",e.dump=p+" "+e.dump)}return!0}function St(e,n){var r=[],i=[],t,l;for(Me(e,r,i),t=0,l=i.length;t<l;t+=1)n.duplicates.push(r[i[t]]);n.usedDuplicates=new Array(l)}function Me(e,n,r){var i,t,l;if(e!==null&&typeof e=="object")if(t=n.indexOf(e),t!==-1)r.indexOf(t)===-1&&r.push(t);else if(n.push(e),Array.isArray(e))for(t=0,l=e.length;t<l;t+=1)Me(e[t],n,r);else for(i=Object.keys(e),t=0,l=i.length;t<l;t+=1)Me(e[i[t]],n,r)}function Nt(e,n){n=n||{};var r=new mt(n);r.noRefs||St(e,r);var i=e;return r.replacer&&(i=r.replacer.call({"":i},"",i)),V(r,0,i,!0,!0)?r.dump+`
`:""}var Et=Nt,kt={dump:Et};function Ye(e,n){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+n+" instead, which is now safe by default.")}}var It=O,Ft=kn,_t=On,Ot=Hn,Lt=jn,Pt=je,Dt=rr.load,Mt=rr.loadAll,Ht=kt.dump,jt=D,$t={binary:Kn,float:Mn,map:_n,null:Ln,pairs:Vn,set:Wn,timestamp:Bn,bool:Pn,int:Dn,merge:Yn,omap:qn,seq:Fn,str:In},Ut=Ye("safeLoad","load"),Bt=Ye("safeLoadAll","loadAll"),Yt=Ye("safeDump","dump"),ce={Type:It,Schema:Ft,FAILSAFE_SCHEMA:_t,JSON_SCHEMA:Ot,CORE_SCHEMA:Lt,DEFAULT_SCHEMA:Pt,load:Dt,loadAll:Mt,dump:Ht,YAMLException:jt,types:$t,safeLoad:Ut,safeLoadAll:Bt,safeDump:Yt};function Ke({onImport:e,onClose:n}){let[r,i]=w("url"),[t,l]=w(""),[o,a]=w(""),[s,p]=w(!1),[g,f]=w(null),[m,c]=w(null),x=async()=>{if(!t.trim()){f("Bitte geben Sie eine URL ein");return}p(!0),f(null);try{let d=await fetch(t);if(!d.ok)throw new Error(`HTTP ${d.status}: ${d.statusText}`);let b=d.headers.get("content-type"),T=await d.text(),A;if(b?.includes("application/json"))A=JSON.parse(T);else if(b?.includes("yaml")||b?.includes("yml")||t.endsWith(".yaml")||t.endsWith(".yml"))A=ce.load(T);else try{A=JSON.parse(T)}catch{try{A=ce.load(T)}catch{throw new Error("Konnte weder als JSON noch als YAML geparst werden")}}h(A,t)}catch(d){f(`Import fehlgeschlagen: ${d.message}`)}finally{p(!1)}},y=d=>{let b=d.target.files[0];if(!b)return;let T=new FileReader;T.onload=A=>{try{let S=A.target.result,N;if(b.name.endsWith(".json"))N=JSON.parse(S);else if(b.name.endsWith(".yaml")||b.name.endsWith(".yml"))N=ce.load(S);else try{N=JSON.parse(S)}catch{N=ce.load(S)}a(S),h(N)}catch(S){f(`Datei-Parse fehlgeschlagen: ${S.message}`)}},T.readAsText(b)},h=(d,b=null)=>{try{let T={};if(b)try{let S=new URL(b);T.sourceOrigin=S.origin}catch{console.warn("Could not parse source URL:",b)}let A=an(d,T);if(A.length===0){f("Keine importierbaren APIs gefunden");return}c(A),f(null)}catch(T){f(`Konvertierung fehlgeschlagen: ${T.message}`)}},C=()=>{m&&m.length>0&&(e(m),n())};return u.createElement("div",{className:"modal-overlay",onClick:n},u.createElement("div",{className:"modal-content import-dialog",onClick:d=>d.stopPropagation()},u.createElement("div",{className:"modal-header"},u.createElement("h2",null,"\u{1F4E5} API Import (OpenAPI 3.0)"),u.createElement("button",{className:"close-button",onClick:n},"\u2715")),u.createElement("div",{className:"modal-body"},u.createElement(te,{tabs:[{id:"url",label:"URL Import"},{id:"file",label:"Datei Upload"}],activeTab:r,onChange:i}),u.createElement("div",{className:"tab-content"},r==="url"&&u.createElement("div",{className:"import-url"},u.createElement("label",null,"OpenAPI Specification URL:",u.createElement("input",{type:"url",value:t,onChange:d=>l(d.target.value),placeholder:"https://api.example.com/openapi.json",disabled:s})),u.createElement("button",{className:"btn-primary",onClick:x,disabled:s||!t.trim()},s?"L\xE4dt...":"\u{1F504} Importieren"),u.createElement("div",{className:"help-text"},u.createElement("strong",null,"Beispiel:"),u.createElement("ul",null,u.createElement("li",null,"https://petstore3.swagger.io/api/v3/openapi.json")),u.createElement("small",{style:{display:"block",marginTop:"8px",color:"#27ae60"}},"\u2713 JSON und YAML werden unterst\xFCtzt"))),r==="file"&&u.createElement("div",{className:"import-file"},u.createElement("label",{className:"file-upload-label"},u.createElement("input",{type:"file",accept:".json,.yaml,.yml",onChange:y,style:{display:"none"}}),u.createElement("div",{className:"file-upload-area"},u.createElement("div",{className:"upload-icon"},"\u{1F4C1}"),u.createElement("div",{className:"upload-text"},u.createElement("strong",null,"Datei ausw\xE4hlen"),u.createElement("br",null),u.createElement("small",null,"OpenAPI JSON (.json) oder YAML (.yaml, .yml)")))),o&&u.createElement("div",{className:"file-info"},"\u2713 Datei geladen (",o.length," Zeichen)"))),g&&u.createElement("div",{className:"error-message"},"\u274C ",g),m&&m.length>0&&u.createElement("div",{className:"import-preview"},u.createElement("h3",null,"\u{1F4CB} Vorschau (",m.length," APIs)"),u.createElement("div",{className:"preview-list"},m.map((d,b)=>u.createElement("div",{key:b,className:"preview-item"},u.createElement("div",{className:"preview-header"},u.createElement("span",{className:"api-method"},d.method),u.createElement("strong",null,d.name)),u.createElement("div",{className:"preview-details"},u.createElement("small",null,d.endpoint),u.createElement("span",{className:"field-count"},d.fields.length," Felder"))))))),u.createElement("div",{className:"modal-footer"},u.createElement("button",{className:"btn-secondary",onClick:n},"Abbrechen"),u.createElement("button",{className:"btn-primary",onClick:C,disabled:!m||m.length===0},"\u2713 ",m?`${m.length} APIs importieren`:"Importieren"))))}function Kt(){let[e,n]=w([]),[r,i]=w(null),[t,l]=w(null),[o,a]=w(null),[s,p]=w("request"),[g,f]=w(!0),[m,c]=w(null),[x,y]=w(!1);U(()=>{h()},[]);let h=async()=>{try{f(!0);let A=await fetch("/config/apis.json");if(!A.ok)throw new Error(`Fehler beim Laden der APIs: ${A.statusText}`);let S=await A.json();n(S.apis||[]),S.apis&&S.apis.length>0&&i(S.apis[0]),f(!1)}catch(A){c(A.message),f(!1),console.error("Fehler beim Laden der APIs:",A)}},C=A=>{i(A),l(null),a(null),p("request")},d=A=>{l(A)},b=A=>{let S=e.find(N=>N.id===A.apiId);S&&(i(S),a(A.payload),p("request"))},T=A=>{let S=[...e,...A];n(S),A.length>0&&(i(A[0]),p("request")),y(!1)};return g?u.createElement("div",{className:"app-container"},u.createElement("div",{className:"loading"},u.createElement("div",{className:"spinner"}),u.createElement("p",null,"Lade API-Konfiguration..."))):m?u.createElement("div",{className:"app-container"},u.createElement(B,{icon:"\u274C",message:"Fehler beim Laden"},u.createElement("p",{style:{marginTop:"10px"}},m),u.createElement("button",{onClick:h,className:"btn-primary",style:{marginTop:"15px"}},"Erneut versuchen"))):e.length===0?u.createElement("div",{className:"app-container"},u.createElement(B,{icon:"\u2699\uFE0F",message:"Keine APIs konfiguriert"},u.createElement("p",{style:{marginTop:"10px"}},"Bitte f\xFCgen Sie API-Definitionen in ",u.createElement("code",null,"config/apis.json")," hinzu."))):u.createElement("div",{className:"app-container"},u.createElement("header",{className:"app-header"},u.createElement("div",{className:"header-content"},u.createElement("div",null,u.createElement("h1",null,"\u{1F680} API Test Framework"),u.createElement("p",{className:"subtitle"},"Flexibles Testing f\xFCr REST APIs")),u.createElement("button",{onClick:()=>y(!0),className:"btn-import",title:"Import API from OpenAPI 3.0 Specification"},"\u{1F4E5} Import OpenAPI"))),u.createElement(Ce,{apis:e,selectedApiId:r?.id,onSelect:C}),u.createElement("div",{className:"main-content"},u.createElement("div",{className:"sidebar"},u.createElement(te,{activeTab:s,onChange:p,tabs:[{id:"request",label:"\u{1F4DD} Request"},{id:"auth",label:"\u{1F510} Auth"},{id:"history",label:"\u{1F4DC} Historie"}]}),u.createElement("div",{className:"tab-content"},s==="request"&&u.createElement(Te,{api:r,onResponse:d,initialValues:o}),s==="auth"&&u.createElement(Ne,{apiId:r?.id}),s==="history"&&u.createElement(ke,{onReplay:b}))),u.createElement("div",{className:"response-panel"},u.createElement(Se,{response:t}))),u.createElement("footer",{className:"app-footer"},u.createElement("p",null,"API Test Framework v1.0 | React + esbuild")),x&&u.createElement(Ke,{onImport:T,onClose:()=>y(!1)}))}var qt=Je.createRoot(document.getElementById("root"));qt.render(u.createElement(Kt,null));})();
/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.1 https://github.com/nodeca/js-yaml @license MIT *)
*/
