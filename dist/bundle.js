(()=>{var u=window.React,T=window.React.useState,P=window.React.useEffect,Be=window.React.useRef,Ho=window.React.createElement,Bo=window.React.Fragment;var Ue=window.ReactDOM,jo=window.ReactDOM.createRoot;function me({apis:e,selectedApiId:n,onSelect:r}){return u.createElement("div",{className:"api-selector"},u.createElement("label",{htmlFor:"api-select"},"API ausw\xE4hlen:"),u.createElement("select",{id:"api-select",value:n||"",onChange:o=>{let l=o.target.value,t=e.find(a=>a.id===l);r(t)},className:"api-select-dropdown"},u.createElement("option",{value:""},"-- Bitte API w\xE4hlen --"),e.map(o=>u.createElement("option",{key:o.id,value:o.id},o.name," (",o.method,")"))),n&&u.createElement("div",{className:"api-info"},e.find(o=>o.id===n)?.description&&u.createElement("p",{className:"api-description"},e.find(o=>o.id===n).description)))}var L={HISTORY:"api_tester_history",FAVORITES:"api_tester_favorites",AUTH:"api_tester_auth"},ir=20,J=(e,n=null)=>{try{let r=localStorage.getItem(e);return r?JSON.parse(r):n}catch(r){return console.error(`Error reading from localStorage (${e}):`,r),n}},q=(e,n)=>{try{return localStorage.setItem(e,JSON.stringify(n)),!0}catch(r){return console.error(`Error writing to localStorage (${e}):`,r),!1}},oe=()=>J(L.HISTORY,[]),je=e=>{let n=oe(),r={id:Date.now(),timestamp:new Date().toISOString(),...e},i=[r,...n].slice(0,ir);return q(L.HISTORY,i),r},$e=e=>{let r=oe().filter(i=>i.id!==e);q(L.HISTORY,r)},Ye=()=>{q(L.HISTORY,[])},Ke=()=>J(L.FAVORITES,[]),qe=e=>{let n=Ke(),r=n.indexOf(e);return r>-1?n.splice(r,1):n.push(e),q(L.FAVORITES,n),n},Ve=e=>Ke().includes(e),te=e=>J(L.AUTH,{})[e]||null,We=(e,n)=>{let r=J(L.AUTH,{});r[e]=n,q(L.AUTH,r)},Ge=e=>{let n=J(L.AUTH,{});delete n[e],q(L.AUTH,n)};var or=3e4;function tr(e,n,r){let i=e,o={},l={},t=[];if(r.forEach(a=>{let s=n[a.name],f=a.paramType||"body";if(!(s==null||s===""))switch(f){case"path":i=i.replace(`{${a.name}}`,encodeURIComponent(s));break;case"query":t.push(`${encodeURIComponent(a.name)}=${encodeURIComponent(s)}`);break;case"header":l[a.name]=s;break;case"body":default:o[a.name]=s;break}}),t.length>0){let a=i.includes("?")?"&":"?";i+=a+t.join("&")}return{finalEndpoint:i,bodyPayload:o,customHeaders:l}}async function ze(e){let{endpoint:n,method:r="POST",payload:i={},fields:o=[],authConfig:l=null,apiId:t,apiName:a,timeout:s=or,useProxy:f=!0,contentType:g="application/json",accept:c="*/*"}=e,{finalEndpoint:h,bodyPayload:m,customHeaders:y}=tr(n,i,o),v={...y};c&&(v.Accept=c);let d=m&&(typeof m=="string"?m.length>0:Object.keys(m).length>0);["POST","PUT","PATCH"].includes(r.toUpperCase())&&d&&(v["Content-Type"]=g),l&&(l.type==="bearer"?v.Authorization=`Bearer ${l.token}`:l.type==="apikey"&&(v[l.headerName||"X-API-Key"]=l.apiKey));let w=Date.now(),p=null,A=null,C=null;try{let S=new AbortController,H=setTimeout(()=>S.abort(),s),ie,de;f?(de="/api/proxy",ie={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:h,method:r,headers:v,body:["POST","PUT","PATCH"].includes(r.toUpperCase())?m:void 0}),signal:S.signal}):(de=h,ie={method:r,headers:v,signal:S.signal},["POST","PUT","PATCH"].includes(r.toUpperCase())&&(ie.body=JSON.stringify(m))),p=await fetch(de,ie),clearTimeout(H);let He=await p.text();try{A=JSON.parse(He)}catch{A=He}}catch(S){C=S,S.name==="AbortError"&&(C=new Error(`Request timeout after ${s}ms`))}let b=Date.now()-w,N={apiId:t,apiName:a,endpoint:h,method:r,payload:m,status:p?p.status:0,statusText:p?p.statusText:"Network Error",responseData:A,error:C?C.message:null,duration:b};if(je(N),C)throw C;return{ok:p.ok,status:p.status,statusText:p.statusText,data:A,headers:Object.fromEntries(p.headers.entries()),duration:b}}function he(e){return typeof e=="object"?JSON.stringify(e,null,2):String(e)}function Je(e,n){let r={};return e.forEach(i=>{let o=n[i.name];if(i.required&&(o==null||o==="")){r[i.name]=i.requiredError||`${i.label} ist erforderlich`;return}if(!(o==null||o==="")){if(i.type==="number"){let l=parseFloat(o);if(isNaN(l)){r[i.name]=`${i.label} muss eine Zahl sein`;return}if(i.min!==void 0&&l<i.min){r[i.name]=i.minError||`${i.label} muss mindestens ${i.min} sein`;return}if(i.max!==void 0&&l>i.max){r[i.name]=i.maxError||`${i.label} darf maximal ${i.max} sein`;return}}if(i.type==="text"||i.type==="textarea"){let l=String(o);if(i.minLength!==void 0&&l.length<i.minLength){r[i.name]=i.minLengthError||`${i.label} muss mindestens ${i.minLength} Zeichen lang sein`;return}if(i.maxLength!==void 0&&l.length>i.maxLength){r[i.name]=i.maxLengthError||`${i.label} darf maximal ${i.maxLength} Zeichen lang sein`;return}if(i.pattern&&!new RegExp(i.pattern).test(l)){r[i.name]=i.patternError||`${i.label} hat ein ung\xFCltiges Format`;return}}}}),{valid:Object.keys(r).length===0,errors:r}}function U({label:e,type:n="text",name:r,value:i,onChange:o,required:l=!1,error:t=null,placeholder:a="",helpText:s="",step:f,rows:g=4,options:c=[],min:h,max:m,minLength:y,maxLength:v,pattern:d,children:w,className:p="",paramType:A="body"}){let C=r||`field-${Math.random().toString(36).substring(2,11)}`,b=()=>{if(n==="select")return u.createElement("select",{id:C,value:i||"",onChange:o,required:l},c.map(H=>u.createElement("option",{key:H.value,value:H.value},H.label)));if(n==="textarea")return u.createElement("textarea",{id:C,value:i||"",onChange:o,required:l,rows:g,placeholder:a,minLength:y,maxLength:v});let S={type:n,id:C,value:i||"",onChange:o,required:l,placeholder:a};return n==="number"&&(f!==void 0&&(S.step=f),h!==void 0&&(S.min=h),m!==void 0&&(S.max=m)),n==="text"&&(y!==void 0&&(S.minLength=y),v!==void 0&&(S.maxLength=v),d&&(S.pattern=d)),n==="date"&&(h!==void 0&&(S.min=h),m!==void 0&&(S.max=m)),u.createElement("input",{...S})},N=()=>{let S={query:{label:"Query",color:"#3498db"},path:{label:"Path",color:"#e67e22"},header:{label:"Header",color:"#9b59b6"},body:{label:"Body",color:"#95a5a6"}},H=S[A]||S.body;return u.createElement("span",{className:"param-type-badge",style:{backgroundColor:H.color,color:"white",fontSize:"10px",padding:"2px 6px",borderRadius:"3px",marginLeft:"8px",fontWeight:"bold",textTransform:"uppercase"}},H.label)};return u.createElement("div",{className:`form-group ${p}`.trim()},u.createElement("label",{htmlFor:C},e,l&&u.createElement("span",{className:"required"},"*"),N()),b(),t&&u.createElement("span",{className:"error-message"},t),s&&u.createElement("small",{className:"help-text"},s),w)}function D({icon:e,message:n,children:r,className:i=""}){return u.createElement("div",{className:`no-history ${i}`.trim()},e&&u.createElement("div",{style:{fontSize:"2em",marginBottom:"10px"}},e),u.createElement("p",null,n),r)}function ge({api:e,onResponse:n,initialValues:r=null}){let[i,o]=T({}),[l,t]=T({}),[a,s]=T(!1);P(()=>{if(e){let d={};f(e).forEach(p=>{r&&r[p.name]!==void 0?d[p.name]=r[p.name]:d[p.name]=p.defaultValue!==void 0?p.defaultValue:""}),o(d),t({})}},[e,r]);let f=d=>d.sections?d.sections.flatMap(w=>w.fields||[]):d.fields||[],g=(d,w)=>{o(p=>({...p,[d]:w})),l[d]&&t(p=>{let A={...p};return delete A[d],A})},c=async d=>{d.preventDefault();let p=f(e).filter(C=>y(C)),A=Je(p,i);if(!A.valid){t(A.errors);return}s(!0),t({});try{let C={};p.forEach(S=>{i[S.name]!==void 0&&(C[S.name]=i[S.name])});let b=te(e.id),N=await ze({endpoint:e.endpoint,method:e.method,payload:C,fields:p,authConfig:b,apiId:e.id,apiName:e.name,contentType:e.contentType,accept:e.accept,useProxy:e.corsProxy!==!1});n(N)}catch(C){n({ok:!1,status:0,statusText:"Error",data:null,error:C.message})}finally{s(!1)}},h=d=>{d.ctrlKey&&d.key==="Enter"&&c(d)},m=()=>{if(!e)return;let d={};f(e).forEach(p=>{let A=p.exampleValue!==void 0?p.exampleValue:p.defaultValue;A!==void 0&&(d[p.name]=A)}),o(d),t({})};if(!e)return u.createElement("div",{className:"request-form"},u.createElement(D,{icon:"\u{1F4DD}",message:"Bitte w\xE4hlen Sie eine API aus."}));let y=d=>{if(!d.showIf)return!0;let{field:w,value:p}=d.showIf,A=i[w];return Array.isArray(p)?p.includes(A):A===p},v=d=>{if(!y(d))return null;let w=p=>{let A=d.type==="number"?p.target.value===""?"":parseFloat(p.target.value):p.target.value;g(d.name,A)};return u.createElement(U,{key:d.name,label:d.label,type:d.type,name:d.name,value:i[d.name],onChange:w,required:d.required,error:l[d.name],placeholder:d.placeholder,helpText:d.helpText,step:d.step,rows:d.rows||4,options:d.options,min:d.min,max:d.max,minLength:d.minLength,maxLength:d.maxLength,pattern:d.pattern,paramType:d.paramType||"body"})};return u.createElement("form",{className:"request-form",onSubmit:c,onKeyDown:h},e.sections?e.sections.map((d,w)=>u.createElement("div",{key:w,className:"form-section"},d.title&&u.createElement("h4",{className:"section-title"},d.title),d.description&&u.createElement("p",{className:"section-description"},d.description),u.createElement("div",{className:"section-fields"},(d.fields||[]).map(p=>v(p))))):(e.fields||[]).map(d=>v(d)),u.createElement("div",{className:"form-actions"},u.createElement("button",{type:"submit",className:"btn-primary btn-submit",disabled:a},a?"Sende...":"API aufrufen"),u.createElement("button",{type:"button",className:"btn-secondary",onClick:m},"\u{1F4CB} Beispielwerte f\xFCllen"),u.createElement("small",{className:"hint"},"Tipp: Strg+Enter zum Absenden")))}function le({variant:e="status",type:n="success",children:r,className:i=""}){let o="";return e==="status"?o=`status-badge ${n==="success"?"status-success":"status-error"}`:e==="duration"&&(o="duration-badge"),u.createElement("div",{className:`${o} ${i}`.trim()},r)}function xe({response:e}){let n=Be(null),r=i=>(typeof i!="string"&&(i=he(i)),i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"([^"]+)":/g,'<span class="json-key">"$1"</span>:').replace(/: "([^"]*)"/g,': <span class="json-string">"$1"</span>').replace(/: (true|false)/g,': <span class="json-boolean">$1</span>').replace(/: (null)/g,': <span class="json-null">$1</span>').replace(/: (-?\d+\.?\d*)/g,': <span class="json-number">$1</span>'));return P(()=>{if(n.current&&e&&e.data!==null){let i=he(e.data),o=r(i);n.current.innerHTML=o}},[e]),e?u.createElement("div",{className:"response-viewer"},u.createElement("div",{className:"response-header"},u.createElement("h3",null,"Response"),u.createElement(le,{variant:"status",type:e.ok?"success":"error"},"HTTP ",e.status," ",e.statusText),e.duration&&u.createElement(le,{variant:"duration"},e.duration,"ms")),e.error?u.createElement("pre",{className:"response-content error"},"Fehler: ",e.error):u.createElement("pre",{ref:n,className:"response-content"})):u.createElement("div",{className:"response-viewer"},u.createElement("h3",null,"Response"),u.createElement("pre",{className:"response-content"},"Noch keine Anfrage gesendet."))}function ve({apiId:e}){let[n,r]=T("none"),[i,o]=T(""),[l,t]=T(""),[a,s]=T("X-API-Key");P(()=>{if(e){let c=te(e);c?(r(c.type),o(c.token||""),t(c.apiKey||""),s(c.headerName||"X-API-Key")):(r("none"),o(""),t(""),s("X-API-Key"))}},[e]);let f=()=>{if(!e)return;let c={type:n};n==="bearer"?c.token=i:n==="apikey"&&(c.apiKey=l,c.headerName=a),We(e,c),alert("Auth-Konfiguration gespeichert!")},g=()=>{e&&(Ge(e),r("none"),o(""),t(""),s("X-API-Key"),alert("Auth-Konfiguration gel\xF6scht!"))};return e?u.createElement("div",{className:"auth-config"},u.createElement("h3",null,"Authentifizierung"),u.createElement(U,{label:"Auth-Typ:",type:"select",name:"auth-type",value:n,onChange:c=>r(c.target.value),options:[{value:"none",label:"Keine"},{value:"bearer",label:"Bearer Token"},{value:"apikey",label:"API Key"}]}),n==="bearer"&&u.createElement(U,{label:"Bearer Token:",type:"text",name:"bearer-token",value:i,onChange:c=>o(c.target.value),placeholder:"Token eingeben..."},u.createElement("small",{className:"warning"},"\u26A0\uFE0F Nur f\xFCr Testzwecke! Token wird in LocalStorage gespeichert.")),n==="apikey"&&u.createElement(u.Fragment,null,u.createElement(U,{label:"API Key:",type:"text",name:"api-key",value:l,onChange:c=>t(c.target.value),placeholder:"API Key eingeben..."}),u.createElement(U,{label:"Header-Name:",type:"text",name:"header-name",value:a,onChange:c=>s(c.target.value),placeholder:"z.B. X-API-Key"},u.createElement("small",{className:"warning"},"\u26A0\uFE0F Nur f\xFCr Testzwecke! Key wird in LocalStorage gespeichert."))),u.createElement("div",{className:"auth-actions"},u.createElement("button",{onClick:f,className:"btn-primary"},"Speichern"),u.createElement("button",{onClick:g,className:"btn-secondary"},"L\xF6schen"))):u.createElement("div",{className:"auth-config"},u.createElement(D,{icon:"\u{1F510}",message:"Bitte w\xE4hlen Sie zuerst eine API aus."}))}function ye({item:e,isFavorite:n,onToggleFavorite:r,onReplay:i,onDelete:o}){let l=e.status>=200&&e.status<300?"status-success":"status-error",t=a=>new Date(a).toLocaleString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"});return u.createElement("div",{className:"history-item"},u.createElement("div",{className:"history-item-header"},u.createElement("span",{className:"api-name"},e.apiName),u.createElement("span",{className:`status ${l}`},e.status," ",e.statusText),u.createElement("span",{className:"timestamp"},t(e.timestamp))),u.createElement("div",{className:"history-item-details"},u.createElement("div",{className:"endpoint"},u.createElement("strong",null,e.method)," ",e.endpoint),e.duration&&u.createElement("div",{className:"duration"},e.duration,"ms")),u.createElement("div",{className:"history-item-actions"},u.createElement("button",{className:"btn-icon",onClick:()=>r(e.id),title:n?"Favorit entfernen":"Als Favorit markieren"},n?"\u2B50":"\u2606"),u.createElement("button",{className:"btn-small btn-primary",onClick:()=>i(e)},"\u21BB Wiederholen"),u.createElement("button",{className:"btn-small btn-danger",onClick:()=>o(e.id)},"\u{1F5D1}\uFE0F L\xF6schen")))}function Ae({onReplay:e}){let[n,r]=T([]),[i,o]=T([]),[l,t]=T("all"),a=()=>{let m=oe();r(m);let y=m.filter(v=>Ve(v.id)).map(v=>v.id);o(y)};P(()=>{a()},[]);let s=m=>{confirm("M\xF6chten Sie diesen Eintrag wirklich l\xF6schen?")&&($e(m),a())},f=()=>{confirm("M\xF6chten Sie die gesamte Historie wirklich l\xF6schen?")&&(Ye(),a())},g=m=>{qe(m),a()},c=m=>{e({apiId:m.apiId,payload:m.payload})},h=l==="favorites"?n.filter(m=>i.includes(m.id)):n;return u.createElement("div",{className:"history"},u.createElement("div",{className:"history-header"},u.createElement("h3",null,"Request-Historie"),u.createElement("div",{className:"history-controls"},u.createElement("div",{className:"filter-buttons"},u.createElement("button",{className:l==="all"?"active":"",onClick:()=>t("all")},"Alle (",n.length,")"),u.createElement("button",{className:l==="favorites"?"active":"",onClick:()=>t("favorites")},"\u2B50 Favoriten (",i.length,")")),n.length>0&&u.createElement("button",{className:"btn-danger btn-small",onClick:f},"Alle l\xF6schen"))),h.length===0?u.createElement(D,{icon:l==="favorites"?"\u2B50":"\u{1F4DC}",message:l==="favorites"?"Keine Favoriten vorhanden.":"Noch keine Requests in der Historie."}):u.createElement("div",{className:"history-list"},h.map(m=>u.createElement(ye,{key:m.id,item:m,isFavorite:i.includes(m.id),onToggleFavorite:g,onReplay:c,onDelete:s}))))}function X({tabs:e,activeTab:n,onChange:r,className:i=""}){return u.createElement("div",{className:`tabs ${i}`.trim()},e.map(o=>u.createElement("button",{key:o.id,className:`tab ${n===o.id?"active":""}`,onClick:()=>r(o.id)},o.label)))}function Xe(e,n={}){let{baseUrl:r="",selectedPaths:i=null,sourceOrigin:o=null}=n;if(!e||!e.paths)throw new Error('Ung\xFCltige OpenAPI Specification: "paths" fehlt');let l=[],t=e.paths;for(let[a,s]of Object.entries(t))for(let[f,g]of Object.entries(s)){if(!["get","post","put","patch","delete"].includes(f.toLowerCase())||i&&!i.includes(`${f.toUpperCase()} ${a}`))continue;let c=lr(a,f,g,e,r,o);c&&l.push(c)}return l}function lr(e,n,r,i,o,l=null){let t=(r.operationId||`${n}_${e}`).toLowerCase().replace(/[^a-z0-9_]/g,"_"),a=r.summary||r.operationId||`${n.toUpperCase()} ${e}`,s=o?`${o}${e}`:dr(i,l)+e,f=ar(r.requestBody,i),c=[...ur(r.parameters,i),...f],h=pr(i,r);return{id:t,name:a,description:r.description||r.summary||"",endpoint:s,method:n.toUpperCase(),auth:h,fields:c}}function ar(e,n){if(!e||!e.content)return[];let r=e.content["application/json"];if(!r||!r.schema)return[];let i=r.schema,o=sr(i,[],n);return o.forEach(l=>{l.paramType="body"}),o}function ur(e,n){if(!e||e.length===0)return[];let r=[];for(let i of e){if(i.$ref&&n&&(i=be(i.$ref,n),!i)||!["query","path","header"].includes(i.in))continue;let o={name:i.name,label:Qe(i.name),required:i.required||i.in==="path",paramType:i.in},l=i.schema||{};switch(l.type){case"string":o.type="text";break;case"integer":case"number":o.type="number";break;case"boolean":o.type="select",o.options=[{value:"true",label:"true"},{value:"false",label:"false"}];break;default:o.type="text"}l.enum&&(o.type="select",o.options=l.enum.map(t=>({value:t.toString(),label:t.toString()}))),Ze(o,l),l.default!==void 0&&(o.defaultValue=l.default),i.description&&(o.helpText=i.description),l.example!==void 0?o.exampleValue=l.example:i.example!==void 0&&(o.exampleValue=i.example),r.push(o)}return r}function sr(e,n=[],r=null){let i=[];if(e.$ref&&r&&(e=be(e.$ref,r)),!e||!e.properties)return i;let o=e.required||n;for(let[l,t]of Object.entries(e.properties)){let a=t;t.$ref&&r&&(a=be(t.$ref,r));let s=cr(l,a,o.includes(l));s&&i.push(s)}return i}function cr(e,n,r){let i={name:e,label:n.title||Qe(e),required:r};switch(n.type){case"string":i.type=fr(n);break;case"integer":case"number":i.type="number";break;case"boolean":i.type="select",i.options=[{value:!0,label:"Ja"},{value:!1,label:"Nein"}];break;default:i.type="text"}return n.enum&&(i.type="select",i.options=n.enum.map(o=>({value:o,label:o.toString()}))),Ze(i,n),n.default!==void 0&&(i.defaultValue=n.default),n.description&&(i.helpText=n.description),n.example!==void 0&&(i.exampleValue=n.example),i}function be(e,n){if(!e||!e.startsWith("#/"))return null;let r=e.substring(2).split("/"),i=n;for(let o of r){if(!i||!i[o])return console.warn(`Could not resolve $ref: ${e}`),null;i=i[o]}return i}function fr(e){switch(e.format){case"date":case"date-time":return"date";case"email":return"text";default:return e.maxLength&&e.maxLength>100?"textarea":"text"}}function Ze(e,n){n.type==="string"&&(n.minLength!==void 0&&(e.minLength=n.minLength),n.maxLength!==void 0&&(e.maxLength=n.maxLength),n.pattern&&(e.pattern=n.pattern),n.format==="email"&&(e.pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$",e.patternError="Bitte g\xFCltige E-Mail-Adresse eingeben")),(n.type==="number"||n.type==="integer")&&(n.minimum!==void 0&&(e.min=n.minimum),n.maximum!==void 0&&(e.max=n.maximum),n.type==="integer"&&(e.step=1)),(n.format==="date"||n.format==="date-time")&&(n.minimum!==void 0&&(e.min=n.minimum),n.maximum!==void 0&&(e.max=n.maximum))}function pr(e,n){let r={type:"none"},i=n.security||e.security;if(!i||i.length===0)return r;let o=i[0],l=Object.keys(o)[0];if(!e.components||!e.components.securitySchemes)return r;let t=e.components.securitySchemes[l];if(!t)return r;switch(t.type){case"http":t.scheme==="bearer"&&(r={type:"bearer"});break;case"apiKey":r={type:"apikey",headerName:t.name||"X-API-Key"};break;default:r={type:"none"}}return r}function dr(e,n=null){if(console.log("\u{1F50D} DEBUG: spec.servers =",e.servers),console.log("\u{1F50D} DEBUG: sourceOrigin =",n),e.servers&&e.servers.length>0){let r=e.servers[0].url;if(console.log("\u{1F50D} DEBUG: serverUrl =",r),r&&r.startsWith("/"))if(n){let o=n+r;return console.log("\u2705 Resolved relative server URL:",o),o}else return console.warn("\u26A0\uFE0F OpenAPI server URL ist relativ, aber keine sourceOrigin verf\xFCgbar:",r),"";let i=r||"";return console.log("\u2705 Extracted server URL:",i),i}return console.warn("\u26A0\uFE0F Keine Server-Definition in OpenAPI Spec gefunden"),""}function Qe(e){return e.replace(/([A-Z])/g," $1").replace(/[_-]/g," ").replace(/\b\w/g,n=>n.toUpperCase()).trim()}function hn(e){return typeof e>"u"||e===null}function mr(e){return typeof e=="object"&&e!==null}function hr(e){return Array.isArray(e)?e:hn(e)?[]:[e]}function gr(e,n){var r,i,o,l;if(n)for(l=Object.keys(n),r=0,i=l.length;r<i;r+=1)o=l[r],e[o]=n[o];return e}function xr(e,n){var r="",i;for(i=0;i<n;i+=1)r+=e;return r}function vr(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var yr=hn,Ar=mr,br=hr,Cr=xr,wr=vr,Sr=gr,F={isNothing:yr,isObject:Ar,toArray:br,repeat:Cr,isNegativeZero:wr,extend:Sr};function gn(e,n){var r="",i=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!n&&e.mark.snippet&&(r+=`

`+e.mark.snippet),i+" "+r):i}function Q(e,n){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=n,this.message=gn(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Q.prototype=Object.create(Error.prototype);Q.prototype.constructor=Q;Q.prototype.toString=function(n){return this.name+": "+gn(this,n)};var k=Q;function Ce(e,n,r,i,o){var l="",t="",a=Math.floor(o/2)-1;return i-n>a&&(l=" ... ",n=i-a+l.length),r-i>a&&(t=" ...",r=i+a-t.length),{str:l+e.slice(n,r).replace(/\t/g,"\u2192")+t,pos:i-n+l.length}}function we(e,n){return F.repeat(" ",n-e.length)+e}function Tr(e,n){if(n=Object.create(n||null),!e.buffer)return null;n.maxLength||(n.maxLength=79),typeof n.indent!="number"&&(n.indent=1),typeof n.linesBefore!="number"&&(n.linesBefore=3),typeof n.linesAfter!="number"&&(n.linesAfter=2);for(var r=/\r?\n|\r|\0/g,i=[0],o=[],l,t=-1;l=r.exec(e.buffer);)o.push(l.index),i.push(l.index+l[0].length),e.position<=l.index&&t<0&&(t=i.length-2);t<0&&(t=i.length-1);var a="",s,f,g=Math.min(e.line+n.linesAfter,o.length).toString().length,c=n.maxLength-(n.indent+g+3);for(s=1;s<=n.linesBefore&&!(t-s<0);s++)f=Ce(e.buffer,i[t-s],o[t-s],e.position-(i[t]-i[t-s]),c),a=F.repeat(" ",n.indent)+we((e.line-s+1).toString(),g)+" | "+f.str+`
`+a;for(f=Ce(e.buffer,i[t],o[t],e.position,c),a+=F.repeat(" ",n.indent)+we((e.line+1).toString(),g)+" | "+f.str+`
`,a+=F.repeat("-",n.indent+g+3+f.pos)+`^
`,s=1;s<=n.linesAfter&&!(t+s>=o.length);s++)f=Ce(e.buffer,i[t+s],o[t+s],e.position-(i[t]-i[t+s]),c),a+=F.repeat(" ",n.indent)+we((e.line+s+1).toString(),g)+" | "+f.str+`
`;return a.replace(/\n$/,"")}var Nr=Tr,Er=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Fr=["scalar","sequence","mapping"];function Ir(e){var n={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(i){n[String(i)]=r})}),n}function _r(e,n){if(n=n||{},Object.keys(n).forEach(function(r){if(Er.indexOf(r)===-1)throw new k('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=n,this.tag=e,this.kind=n.kind||null,this.resolve=n.resolve||function(){return!0},this.construct=n.construct||function(r){return r},this.instanceOf=n.instanceOf||null,this.predicate=n.predicate||null,this.represent=n.represent||null,this.representName=n.representName||null,this.defaultStyle=n.defaultStyle||null,this.multi=n.multi||!1,this.styleAliases=Ir(n.styleAliases||null),Fr.indexOf(this.kind)===-1)throw new k('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var I=_r;function Re(e,n){var r=[];return e[n].forEach(function(i){var o=r.length;r.forEach(function(l,t){l.tag===i.tag&&l.kind===i.kind&&l.multi===i.multi&&(o=t)}),r[o]=i}),r}function kr(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},n,r;function i(o){o.multi?(e.multi[o.kind].push(o),e.multi.fallback.push(o)):e[o.kind][o.tag]=e.fallback[o.tag]=o}for(n=0,r=arguments.length;n<r;n+=1)arguments[n].forEach(i);return e}function Te(e){return this.extend(e)}Te.prototype.extend=function(n){var r=[],i=[];if(n instanceof I)i.push(n);else if(Array.isArray(n))i=i.concat(n);else if(n&&(Array.isArray(n.implicit)||Array.isArray(n.explicit)))n.implicit&&(r=r.concat(n.implicit)),n.explicit&&(i=i.concat(n.explicit));else throw new k("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(l){if(!(l instanceof I))throw new k("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(l.loadKind&&l.loadKind!=="scalar")throw new k("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(l.multi)throw new k("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(l){if(!(l instanceof I))throw new k("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var o=Object.create(Te.prototype);return o.implicit=(this.implicit||[]).concat(r),o.explicit=(this.explicit||[]).concat(i),o.compiledImplicit=Re(o,"implicit"),o.compiledExplicit=Re(o,"explicit"),o.compiledTypeMap=kr(o.compiledImplicit,o.compiledExplicit),o};var xn=Te,vn=new I("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),yn=new I("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),An=new I("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),bn=new xn({explicit:[vn,yn,An]});function Or(e){if(e===null)return!0;var n=e.length;return n===1&&e==="~"||n===4&&(e==="null"||e==="Null"||e==="NULL")}function Lr(){return null}function Pr(e){return e===null}var Cn=new I("tag:yaml.org,2002:null",{kind:"scalar",resolve:Or,construct:Lr,predicate:Pr,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function Dr(e){if(e===null)return!1;var n=e.length;return n===4&&(e==="true"||e==="True"||e==="TRUE")||n===5&&(e==="false"||e==="False"||e==="FALSE")}function Mr(e){return e==="true"||e==="True"||e==="TRUE"}function Hr(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var wn=new I("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Dr,construct:Mr,predicate:Hr,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function Br(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function Ur(e){return 48<=e&&e<=55}function jr(e){return 48<=e&&e<=57}function $r(e){if(e===null)return!1;var n=e.length,r=0,i=!1,o;if(!n)return!1;if(o=e[r],(o==="-"||o==="+")&&(o=e[++r]),o==="0"){if(r+1===n)return!0;if(o=e[++r],o==="b"){for(r++;r<n;r++)if(o=e[r],o!=="_"){if(o!=="0"&&o!=="1")return!1;i=!0}return i&&o!=="_"}if(o==="x"){for(r++;r<n;r++)if(o=e[r],o!=="_"){if(!Br(e.charCodeAt(r)))return!1;i=!0}return i&&o!=="_"}if(o==="o"){for(r++;r<n;r++)if(o=e[r],o!=="_"){if(!Ur(e.charCodeAt(r)))return!1;i=!0}return i&&o!=="_"}}if(o==="_")return!1;for(;r<n;r++)if(o=e[r],o!=="_"){if(!jr(e.charCodeAt(r)))return!1;i=!0}return!(!i||o==="_")}function Yr(e){var n=e,r=1,i;if(n.indexOf("_")!==-1&&(n=n.replace(/_/g,"")),i=n[0],(i==="-"||i==="+")&&(i==="-"&&(r=-1),n=n.slice(1),i=n[0]),n==="0")return 0;if(i==="0"){if(n[1]==="b")return r*parseInt(n.slice(2),2);if(n[1]==="x")return r*parseInt(n.slice(2),16);if(n[1]==="o")return r*parseInt(n.slice(2),8)}return r*parseInt(n,10)}function Kr(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!F.isNegativeZero(e)}var Sn=new I("tag:yaml.org,2002:int",{kind:"scalar",resolve:$r,construct:Yr,predicate:Kr,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),qr=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Vr(e){return!(e===null||!qr.test(e)||e[e.length-1]==="_")}function Wr(e){var n,r;return n=e.replace(/_/g,"").toLowerCase(),r=n[0]==="-"?-1:1,"+-".indexOf(n[0])>=0&&(n=n.slice(1)),n===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:n===".nan"?NaN:r*parseFloat(n,10)}var Gr=/^[-+]?[0-9]+e/;function zr(e,n){var r;if(isNaN(e))switch(n){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(n){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(n){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(F.isNegativeZero(e))return"-0.0";return r=e.toString(10),Gr.test(r)?r.replace("e",".e"):r}function Jr(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||F.isNegativeZero(e))}var Tn=new I("tag:yaml.org,2002:float",{kind:"scalar",resolve:Vr,construct:Wr,predicate:Jr,represent:zr,defaultStyle:"lowercase"}),Nn=bn.extend({implicit:[Cn,wn,Sn,Tn]}),En=Nn,Fn=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),In=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Xr(e){return e===null?!1:Fn.exec(e)!==null||In.exec(e)!==null}function Zr(e){var n,r,i,o,l,t,a,s=0,f=null,g,c,h;if(n=Fn.exec(e),n===null&&(n=In.exec(e)),n===null)throw new Error("Date resolve error");if(r=+n[1],i=+n[2]-1,o=+n[3],!n[4])return new Date(Date.UTC(r,i,o));if(l=+n[4],t=+n[5],a=+n[6],n[7]){for(s=n[7].slice(0,3);s.length<3;)s+="0";s=+s}return n[9]&&(g=+n[10],c=+(n[11]||0),f=(g*60+c)*6e4,n[9]==="-"&&(f=-f)),h=new Date(Date.UTC(r,i,o,l,t,a,s)),f&&h.setTime(h.getTime()-f),h}function Qr(e){return e.toISOString()}var _n=new I("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Xr,construct:Zr,instanceOf:Date,represent:Qr});function Rr(e){return e==="<<"||e===null}var kn=new I("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Rr}),_e=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function ei(e){if(e===null)return!1;var n,r,i=0,o=e.length,l=_e;for(r=0;r<o;r++)if(n=l.indexOf(e.charAt(r)),!(n>64)){if(n<0)return!1;i+=6}return i%8===0}function ni(e){var n,r,i=e.replace(/[\r\n=]/g,""),o=i.length,l=_e,t=0,a=[];for(n=0;n<o;n++)n%4===0&&n&&(a.push(t>>16&255),a.push(t>>8&255),a.push(t&255)),t=t<<6|l.indexOf(i.charAt(n));return r=o%4*6,r===0?(a.push(t>>16&255),a.push(t>>8&255),a.push(t&255)):r===18?(a.push(t>>10&255),a.push(t>>2&255)):r===12&&a.push(t>>4&255),new Uint8Array(a)}function ri(e){var n="",r=0,i,o,l=e.length,t=_e;for(i=0;i<l;i++)i%3===0&&i&&(n+=t[r>>18&63],n+=t[r>>12&63],n+=t[r>>6&63],n+=t[r&63]),r=(r<<8)+e[i];return o=l%3,o===0?(n+=t[r>>18&63],n+=t[r>>12&63],n+=t[r>>6&63],n+=t[r&63]):o===2?(n+=t[r>>10&63],n+=t[r>>4&63],n+=t[r<<2&63],n+=t[64]):o===1&&(n+=t[r>>2&63],n+=t[r<<4&63],n+=t[64],n+=t[64]),n}function ii(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var On=new I("tag:yaml.org,2002:binary",{kind:"scalar",resolve:ei,construct:ni,predicate:ii,represent:ri}),oi=Object.prototype.hasOwnProperty,ti=Object.prototype.toString;function li(e){if(e===null)return!0;var n=[],r,i,o,l,t,a=e;for(r=0,i=a.length;r<i;r+=1){if(o=a[r],t=!1,ti.call(o)!=="[object Object]")return!1;for(l in o)if(oi.call(o,l))if(!t)t=!0;else return!1;if(!t)return!1;if(n.indexOf(l)===-1)n.push(l);else return!1}return!0}function ai(e){return e!==null?e:[]}var Ln=new I("tag:yaml.org,2002:omap",{kind:"sequence",resolve:li,construct:ai}),ui=Object.prototype.toString;function si(e){if(e===null)return!0;var n,r,i,o,l,t=e;for(l=new Array(t.length),n=0,r=t.length;n<r;n+=1){if(i=t[n],ui.call(i)!=="[object Object]"||(o=Object.keys(i),o.length!==1))return!1;l[n]=[o[0],i[o[0]]]}return!0}function ci(e){if(e===null)return[];var n,r,i,o,l,t=e;for(l=new Array(t.length),n=0,r=t.length;n<r;n+=1)i=t[n],o=Object.keys(i),l[n]=[o[0],i[o[0]]];return l}var Pn=new I("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:si,construct:ci}),fi=Object.prototype.hasOwnProperty;function pi(e){if(e===null)return!0;var n,r=e;for(n in r)if(fi.call(r,n)&&r[n]!==null)return!1;return!0}function di(e){return e!==null?e:{}}var Dn=new I("tag:yaml.org,2002:set",{kind:"mapping",resolve:pi,construct:di}),ke=En.extend({implicit:[_n,kn],explicit:[On,Ln,Pn,Dn]}),$=Object.prototype.hasOwnProperty,ae=1,Mn=2,Hn=3,ue=4,Se=1,mi=2,en=3,hi=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,gi=/[\x85\u2028\u2029]/,xi=/[,\[\]\{\}]/,Bn=/^(?:!|!!|![a-z\-]+!)$/i,Un=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function nn(e){return Object.prototype.toString.call(e)}function M(e){return e===10||e===13}function K(e){return e===9||e===32}function O(e){return e===9||e===32||e===10||e===13}function W(e){return e===44||e===91||e===93||e===123||e===125}function vi(e){var n;return 48<=e&&e<=57?e-48:(n=e|32,97<=n&&n<=102?n-97+10:-1)}function yi(e){return e===120?2:e===117?4:e===85?8:0}function Ai(e){return 48<=e&&e<=57?e-48:-1}function rn(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function bi(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}function jn(e,n,r){n==="__proto__"?Object.defineProperty(e,n,{configurable:!0,enumerable:!0,writable:!0,value:r}):e[n]=r}var $n=new Array(256),Yn=new Array(256);for(Y=0;Y<256;Y++)$n[Y]=rn(Y)?1:0,Yn[Y]=rn(Y);var Y;function Ci(e,n){this.input=e,this.filename=n.filename||null,this.schema=n.schema||ke,this.onWarning=n.onWarning||null,this.legacy=n.legacy||!1,this.json=n.json||!1,this.listener=n.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Kn(e,n){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=Nr(r),new k(n,r)}function x(e,n){throw Kn(e,n)}function se(e,n){e.onWarning&&e.onWarning.call(null,Kn(e,n))}var on={YAML:function(n,r,i){var o,l,t;n.version!==null&&x(n,"duplication of %YAML directive"),i.length!==1&&x(n,"YAML directive accepts exactly one argument"),o=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),o===null&&x(n,"ill-formed argument of the YAML directive"),l=parseInt(o[1],10),t=parseInt(o[2],10),l!==1&&x(n,"unacceptable YAML version of the document"),n.version=i[0],n.checkLineBreaks=t<2,t!==1&&t!==2&&se(n,"unsupported YAML version of the document")},TAG:function(n,r,i){var o,l;i.length!==2&&x(n,"TAG directive accepts exactly two arguments"),o=i[0],l=i[1],Bn.test(o)||x(n,"ill-formed tag handle (first argument) of the TAG directive"),$.call(n.tagMap,o)&&x(n,'there is a previously declared suffix for "'+o+'" tag handle'),Un.test(l)||x(n,"ill-formed tag prefix (second argument) of the TAG directive");try{l=decodeURIComponent(l)}catch{x(n,"tag prefix is malformed: "+l)}n.tagMap[o]=l}};function j(e,n,r,i){var o,l,t,a;if(n<r){if(a=e.input.slice(n,r),i)for(o=0,l=a.length;o<l;o+=1)t=a.charCodeAt(o),t===9||32<=t&&t<=1114111||x(e,"expected valid JSON character");else hi.test(a)&&x(e,"the stream contains non-printable characters");e.result+=a}}function tn(e,n,r,i){var o,l,t,a;for(F.isObject(r)||x(e,"cannot merge mappings; the provided source object is unacceptable"),o=Object.keys(r),t=0,a=o.length;t<a;t+=1)l=o[t],$.call(n,l)||(jn(n,l,r[l]),i[l]=!0)}function G(e,n,r,i,o,l,t,a,s){var f,g;if(Array.isArray(o))for(o=Array.prototype.slice.call(o),f=0,g=o.length;f<g;f+=1)Array.isArray(o[f])&&x(e,"nested arrays are not supported inside keys"),typeof o=="object"&&nn(o[f])==="[object Object]"&&(o[f]="[object Object]");if(typeof o=="object"&&nn(o)==="[object Object]"&&(o="[object Object]"),o=String(o),n===null&&(n={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(l))for(f=0,g=l.length;f<g;f+=1)tn(e,n,l[f],r);else tn(e,n,l,r);else!e.json&&!$.call(r,o)&&$.call(n,o)&&(e.line=t||e.line,e.lineStart=a||e.lineStart,e.position=s||e.position,x(e,"duplicated mapping key")),jn(n,o,l),delete r[o];return n}function Oe(e){var n;n=e.input.charCodeAt(e.position),n===10?e.position++:n===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):x(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function E(e,n,r){for(var i=0,o=e.input.charCodeAt(e.position);o!==0;){for(;K(o);)o===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),o=e.input.charCodeAt(++e.position);if(n&&o===35)do o=e.input.charCodeAt(++e.position);while(o!==10&&o!==13&&o!==0);if(M(o))for(Oe(e),o=e.input.charCodeAt(e.position),i++,e.lineIndent=0;o===32;)e.lineIndent++,o=e.input.charCodeAt(++e.position);else break}return r!==-1&&i!==0&&e.lineIndent<r&&se(e,"deficient indentation"),i}function pe(e){var n=e.position,r;return r=e.input.charCodeAt(n),!!((r===45||r===46)&&r===e.input.charCodeAt(n+1)&&r===e.input.charCodeAt(n+2)&&(n+=3,r=e.input.charCodeAt(n),r===0||O(r)))}function Le(e,n){n===1?e.result+=" ":n>1&&(e.result+=F.repeat(`
`,n-1))}function wi(e,n,r){var i,o,l,t,a,s,f,g,c=e.kind,h=e.result,m;if(m=e.input.charCodeAt(e.position),O(m)||W(m)||m===35||m===38||m===42||m===33||m===124||m===62||m===39||m===34||m===37||m===64||m===96||(m===63||m===45)&&(o=e.input.charCodeAt(e.position+1),O(o)||r&&W(o)))return!1;for(e.kind="scalar",e.result="",l=t=e.position,a=!1;m!==0;){if(m===58){if(o=e.input.charCodeAt(e.position+1),O(o)||r&&W(o))break}else if(m===35){if(i=e.input.charCodeAt(e.position-1),O(i))break}else{if(e.position===e.lineStart&&pe(e)||r&&W(m))break;if(M(m))if(s=e.line,f=e.lineStart,g=e.lineIndent,E(e,!1,-1),e.lineIndent>=n){a=!0,m=e.input.charCodeAt(e.position);continue}else{e.position=t,e.line=s,e.lineStart=f,e.lineIndent=g;break}}a&&(j(e,l,t,!1),Le(e,e.line-s),l=t=e.position,a=!1),K(m)||(t=e.position+1),m=e.input.charCodeAt(++e.position)}return j(e,l,t,!1),e.result?!0:(e.kind=c,e.result=h,!1)}function Si(e,n){var r,i,o;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,i=o=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(j(e,i,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)i=e.position,e.position++,o=e.position;else return!0;else M(r)?(j(e,i,o,!0),Le(e,E(e,!1,n)),i=o=e.position):e.position===e.lineStart&&pe(e)?x(e,"unexpected end of the document within a single quoted scalar"):(e.position++,o=e.position);x(e,"unexpected end of the stream within a single quoted scalar")}function Ti(e,n){var r,i,o,l,t,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=i=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return j(e,r,e.position,!0),e.position++,!0;if(a===92){if(j(e,r,e.position,!0),a=e.input.charCodeAt(++e.position),M(a))E(e,!1,n);else if(a<256&&$n[a])e.result+=Yn[a],e.position++;else if((t=yi(a))>0){for(o=t,l=0;o>0;o--)a=e.input.charCodeAt(++e.position),(t=vi(a))>=0?l=(l<<4)+t:x(e,"expected hexadecimal character");e.result+=bi(l),e.position++}else x(e,"unknown escape sequence");r=i=e.position}else M(a)?(j(e,r,i,!0),Le(e,E(e,!1,n)),r=i=e.position):e.position===e.lineStart&&pe(e)?x(e,"unexpected end of the document within a double quoted scalar"):(e.position++,i=e.position)}x(e,"unexpected end of the stream within a double quoted scalar")}function Ni(e,n){var r=!0,i,o,l,t=e.tag,a,s=e.anchor,f,g,c,h,m,y=Object.create(null),v,d,w,p;if(p=e.input.charCodeAt(e.position),p===91)g=93,m=!1,a=[];else if(p===123)g=125,m=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),p=e.input.charCodeAt(++e.position);p!==0;){if(E(e,!0,n),p=e.input.charCodeAt(e.position),p===g)return e.position++,e.tag=t,e.anchor=s,e.kind=m?"mapping":"sequence",e.result=a,!0;r?p===44&&x(e,"expected the node content, but found ','"):x(e,"missed comma between flow collection entries"),d=v=w=null,c=h=!1,p===63&&(f=e.input.charCodeAt(e.position+1),O(f)&&(c=h=!0,e.position++,E(e,!0,n))),i=e.line,o=e.lineStart,l=e.position,z(e,n,ae,!1,!0),d=e.tag,v=e.result,E(e,!0,n),p=e.input.charCodeAt(e.position),(h||e.line===i)&&p===58&&(c=!0,p=e.input.charCodeAt(++e.position),E(e,!0,n),z(e,n,ae,!1,!0),w=e.result),m?G(e,a,y,d,v,w,i,o,l):c?a.push(G(e,null,y,d,v,w,i,o,l)):a.push(v),E(e,!0,n),p=e.input.charCodeAt(e.position),p===44?(r=!0,p=e.input.charCodeAt(++e.position)):r=!1}x(e,"unexpected end of the stream within a flow collection")}function Ei(e,n){var r,i,o=Se,l=!1,t=!1,a=n,s=0,f=!1,g,c;if(c=e.input.charCodeAt(e.position),c===124)i=!1;else if(c===62)i=!0;else return!1;for(e.kind="scalar",e.result="";c!==0;)if(c=e.input.charCodeAt(++e.position),c===43||c===45)Se===o?o=c===43?en:mi:x(e,"repeat of a chomping mode identifier");else if((g=Ai(c))>=0)g===0?x(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):t?x(e,"repeat of an indentation width identifier"):(a=n+g-1,t=!0);else break;if(K(c)){do c=e.input.charCodeAt(++e.position);while(K(c));if(c===35)do c=e.input.charCodeAt(++e.position);while(!M(c)&&c!==0)}for(;c!==0;){for(Oe(e),e.lineIndent=0,c=e.input.charCodeAt(e.position);(!t||e.lineIndent<a)&&c===32;)e.lineIndent++,c=e.input.charCodeAt(++e.position);if(!t&&e.lineIndent>a&&(a=e.lineIndent),M(c)){s++;continue}if(e.lineIndent<a){o===en?e.result+=F.repeat(`
`,l?1+s:s):o===Se&&l&&(e.result+=`
`);break}for(i?K(c)?(f=!0,e.result+=F.repeat(`
`,l?1+s:s)):f?(f=!1,e.result+=F.repeat(`
`,s+1)):s===0?l&&(e.result+=" "):e.result+=F.repeat(`
`,s):e.result+=F.repeat(`
`,l?1+s:s),l=!0,t=!0,s=0,r=e.position;!M(c)&&c!==0;)c=e.input.charCodeAt(++e.position);j(e,r,e.position,!1)}return!0}function ln(e,n){var r,i=e.tag,o=e.anchor,l=[],t,a=!1,s;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=l),s=e.input.charCodeAt(e.position);s!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,x(e,"tab characters must not be used in indentation")),!(s!==45||(t=e.input.charCodeAt(e.position+1),!O(t))));){if(a=!0,e.position++,E(e,!0,-1)&&e.lineIndent<=n){l.push(null),s=e.input.charCodeAt(e.position);continue}if(r=e.line,z(e,n,Hn,!1,!0),l.push(e.result),E(e,!0,-1),s=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>n)&&s!==0)x(e,"bad indentation of a sequence entry");else if(e.lineIndent<n)break}return a?(e.tag=i,e.anchor=o,e.kind="sequence",e.result=l,!0):!1}function Fi(e,n,r){var i,o,l,t,a,s,f=e.tag,g=e.anchor,c={},h=Object.create(null),m=null,y=null,v=null,d=!1,w=!1,p;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=c),p=e.input.charCodeAt(e.position);p!==0;){if(!d&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,x(e,"tab characters must not be used in indentation")),i=e.input.charCodeAt(e.position+1),l=e.line,(p===63||p===58)&&O(i))p===63?(d&&(G(e,c,h,m,y,null,t,a,s),m=y=v=null),w=!0,d=!0,o=!0):d?(d=!1,o=!0):x(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,p=i;else{if(t=e.line,a=e.lineStart,s=e.position,!z(e,r,Mn,!1,!0))break;if(e.line===l){for(p=e.input.charCodeAt(e.position);K(p);)p=e.input.charCodeAt(++e.position);if(p===58)p=e.input.charCodeAt(++e.position),O(p)||x(e,"a whitespace character is expected after the key-value separator within a block mapping"),d&&(G(e,c,h,m,y,null,t,a,s),m=y=v=null),w=!0,d=!1,o=!1,m=e.tag,y=e.result;else if(w)x(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=f,e.anchor=g,!0}else if(w)x(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=f,e.anchor=g,!0}if((e.line===l||e.lineIndent>n)&&(d&&(t=e.line,a=e.lineStart,s=e.position),z(e,n,ue,!0,o)&&(d?y=e.result:v=e.result),d||(G(e,c,h,m,y,v,t,a,s),m=y=v=null),E(e,!0,-1),p=e.input.charCodeAt(e.position)),(e.line===l||e.lineIndent>n)&&p!==0)x(e,"bad indentation of a mapping entry");else if(e.lineIndent<n)break}return d&&G(e,c,h,m,y,null,t,a,s),w&&(e.tag=f,e.anchor=g,e.kind="mapping",e.result=c),w}function Ii(e){var n,r=!1,i=!1,o,l,t;if(t=e.input.charCodeAt(e.position),t!==33)return!1;if(e.tag!==null&&x(e,"duplication of a tag property"),t=e.input.charCodeAt(++e.position),t===60?(r=!0,t=e.input.charCodeAt(++e.position)):t===33?(i=!0,o="!!",t=e.input.charCodeAt(++e.position)):o="!",n=e.position,r){do t=e.input.charCodeAt(++e.position);while(t!==0&&t!==62);e.position<e.length?(l=e.input.slice(n,e.position),t=e.input.charCodeAt(++e.position)):x(e,"unexpected end of the stream within a verbatim tag")}else{for(;t!==0&&!O(t);)t===33&&(i?x(e,"tag suffix cannot contain exclamation marks"):(o=e.input.slice(n-1,e.position+1),Bn.test(o)||x(e,"named tag handle cannot contain such characters"),i=!0,n=e.position+1)),t=e.input.charCodeAt(++e.position);l=e.input.slice(n,e.position),xi.test(l)&&x(e,"tag suffix cannot contain flow indicator characters")}l&&!Un.test(l)&&x(e,"tag name cannot contain such characters: "+l);try{l=decodeURIComponent(l)}catch{x(e,"tag name is malformed: "+l)}return r?e.tag=l:$.call(e.tagMap,o)?e.tag=e.tagMap[o]+l:o==="!"?e.tag="!"+l:o==="!!"?e.tag="tag:yaml.org,2002:"+l:x(e,'undeclared tag handle "'+o+'"'),!0}function _i(e){var n,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&x(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),n=e.position;r!==0&&!O(r)&&!W(r);)r=e.input.charCodeAt(++e.position);return e.position===n&&x(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(n,e.position),!0}function ki(e){var n,r,i;if(i=e.input.charCodeAt(e.position),i!==42)return!1;for(i=e.input.charCodeAt(++e.position),n=e.position;i!==0&&!O(i)&&!W(i);)i=e.input.charCodeAt(++e.position);return e.position===n&&x(e,"name of an alias node must contain at least one character"),r=e.input.slice(n,e.position),$.call(e.anchorMap,r)||x(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],E(e,!0,-1),!0}function z(e,n,r,i,o){var l,t,a,s=1,f=!1,g=!1,c,h,m,y,v,d;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,l=t=a=ue===r||Hn===r,i&&E(e,!0,-1)&&(f=!0,e.lineIndent>n?s=1:e.lineIndent===n?s=0:e.lineIndent<n&&(s=-1)),s===1)for(;Ii(e)||_i(e);)E(e,!0,-1)?(f=!0,a=l,e.lineIndent>n?s=1:e.lineIndent===n?s=0:e.lineIndent<n&&(s=-1)):a=!1;if(a&&(a=f||o),(s===1||ue===r)&&(ae===r||Mn===r?v=n:v=n+1,d=e.position-e.lineStart,s===1?a&&(ln(e,d)||Fi(e,d,v))||Ni(e,v)?g=!0:(t&&Ei(e,v)||Si(e,v)||Ti(e,v)?g=!0:ki(e)?(g=!0,(e.tag!==null||e.anchor!==null)&&x(e,"alias node should not have any properties")):wi(e,v,ae===r)&&(g=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):s===0&&(g=a&&ln(e,d))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&x(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),c=0,h=e.implicitTypes.length;c<h;c+=1)if(y=e.implicitTypes[c],y.resolve(e.result)){e.result=y.construct(e.result),e.tag=y.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if($.call(e.typeMap[e.kind||"fallback"],e.tag))y=e.typeMap[e.kind||"fallback"][e.tag];else for(y=null,m=e.typeMap.multi[e.kind||"fallback"],c=0,h=m.length;c<h;c+=1)if(e.tag.slice(0,m[c].tag.length)===m[c].tag){y=m[c];break}y||x(e,"unknown tag !<"+e.tag+">"),e.result!==null&&y.kind!==e.kind&&x(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+y.kind+'", not "'+e.kind+'"'),y.resolve(e.result,e.tag)?(e.result=y.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):x(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||g}function Oi(e){var n=e.position,r,i,o,l=!1,t;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(t=e.input.charCodeAt(e.position))!==0&&(E(e,!0,-1),t=e.input.charCodeAt(e.position),!(e.lineIndent>0||t!==37));){for(l=!0,t=e.input.charCodeAt(++e.position),r=e.position;t!==0&&!O(t);)t=e.input.charCodeAt(++e.position);for(i=e.input.slice(r,e.position),o=[],i.length<1&&x(e,"directive name must not be less than one character in length");t!==0;){for(;K(t);)t=e.input.charCodeAt(++e.position);if(t===35){do t=e.input.charCodeAt(++e.position);while(t!==0&&!M(t));break}if(M(t))break;for(r=e.position;t!==0&&!O(t);)t=e.input.charCodeAt(++e.position);o.push(e.input.slice(r,e.position))}t!==0&&Oe(e),$.call(on,i)?on[i](e,i,o):se(e,'unknown document directive "'+i+'"')}if(E(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,E(e,!0,-1)):l&&x(e,"directives end mark is expected"),z(e,e.lineIndent-1,ue,!1,!0),E(e,!0,-1),e.checkLineBreaks&&gi.test(e.input.slice(n,e.position))&&se(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&pe(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,E(e,!0,-1));return}if(e.position<e.length-1)x(e,"end of the stream or a document separator is expected");else return}function qn(e,n){e=String(e),n=n||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new Ci(e,n),i=e.indexOf("\0");for(i!==-1&&(r.position=i,x(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)Oi(r);return r.documents}function Li(e,n,r){n!==null&&typeof n=="object"&&typeof r>"u"&&(r=n,n=null);var i=qn(e,r);if(typeof n!="function")return i;for(var o=0,l=i.length;o<l;o+=1)n(i[o])}function Pi(e,n){var r=qn(e,n);if(r.length!==0){if(r.length===1)return r[0];throw new k("expected a single document in the stream, but found more")}}var Di=Li,Mi=Pi,Vn={loadAll:Di,load:Mi},Wn=Object.prototype.toString,Gn=Object.prototype.hasOwnProperty,Pe=65279,Hi=9,R=10,Bi=13,Ui=32,ji=33,$i=34,Ne=35,Yi=37,Ki=38,qi=39,Vi=42,zn=44,Wi=45,ce=58,Gi=61,zi=62,Ji=63,Xi=64,Jn=91,Xn=93,Zi=96,Zn=123,Qi=124,Qn=125,_={};_[0]="\\0";_[7]="\\a";_[8]="\\b";_[9]="\\t";_[10]="\\n";_[11]="\\v";_[12]="\\f";_[13]="\\r";_[27]="\\e";_[34]='\\"';_[92]="\\\\";_[133]="\\N";_[160]="\\_";_[8232]="\\L";_[8233]="\\P";var Ri=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],eo=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function no(e,n){var r,i,o,l,t,a,s;if(n===null)return{};for(r={},i=Object.keys(n),o=0,l=i.length;o<l;o+=1)t=i[o],a=String(n[t]),t.slice(0,2)==="!!"&&(t="tag:yaml.org,2002:"+t.slice(2)),s=e.compiledTypeMap.fallback[t],s&&Gn.call(s.styleAliases,a)&&(a=s.styleAliases[a]),r[t]=a;return r}function ro(e){var n,r,i;if(n=e.toString(16).toUpperCase(),e<=255)r="x",i=2;else if(e<=65535)r="u",i=4;else if(e<=4294967295)r="U",i=8;else throw new k("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+F.repeat("0",i-n.length)+n}var io=1,ee=2;function oo(e){this.schema=e.schema||ke,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=F.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=no(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?ee:io,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function an(e,n){for(var r=F.repeat(" ",n),i=0,o=-1,l="",t,a=e.length;i<a;)o=e.indexOf(`
`,i),o===-1?(t=e.slice(i),i=a):(t=e.slice(i,o+1),i=o+1),t.length&&t!==`
`&&(l+=r),l+=t;return l}function Ee(e,n){return`
`+F.repeat(" ",e.indent*n)}function to(e,n){var r,i,o;for(r=0,i=e.implicitTypes.length;r<i;r+=1)if(o=e.implicitTypes[r],o.resolve(n))return!0;return!1}function fe(e){return e===Ui||e===Hi}function ne(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==Pe||65536<=e&&e<=1114111}function un(e){return ne(e)&&e!==Pe&&e!==Bi&&e!==R}function sn(e,n,r){var i=un(e),o=i&&!fe(e);return(r?i:i&&e!==zn&&e!==Jn&&e!==Xn&&e!==Zn&&e!==Qn)&&e!==Ne&&!(n===ce&&!o)||un(n)&&!fe(n)&&e===Ne||n===ce&&o}function lo(e){return ne(e)&&e!==Pe&&!fe(e)&&e!==Wi&&e!==Ji&&e!==ce&&e!==zn&&e!==Jn&&e!==Xn&&e!==Zn&&e!==Qn&&e!==Ne&&e!==Ki&&e!==Vi&&e!==ji&&e!==Qi&&e!==Gi&&e!==zi&&e!==qi&&e!==$i&&e!==Yi&&e!==Xi&&e!==Zi}function ao(e){return!fe(e)&&e!==ce}function Z(e,n){var r=e.charCodeAt(n),i;return r>=55296&&r<=56319&&n+1<e.length&&(i=e.charCodeAt(n+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function Rn(e){var n=/^\n* /;return n.test(e)}var er=1,Fe=2,nr=3,rr=4,V=5;function uo(e,n,r,i,o,l,t,a){var s,f=0,g=null,c=!1,h=!1,m=i!==-1,y=-1,v=lo(Z(e,0))&&ao(Z(e,e.length-1));if(n||t)for(s=0;s<e.length;f>=65536?s+=2:s++){if(f=Z(e,s),!ne(f))return V;v=v&&sn(f,g,a),g=f}else{for(s=0;s<e.length;f>=65536?s+=2:s++){if(f=Z(e,s),f===R)c=!0,m&&(h=h||s-y-1>i&&e[y+1]!==" ",y=s);else if(!ne(f))return V;v=v&&sn(f,g,a),g=f}h=h||m&&s-y-1>i&&e[y+1]!==" "}return!c&&!h?v&&!t&&!o(e)?er:l===ee?V:Fe:r>9&&Rn(e)?V:t?l===ee?V:Fe:h?rr:nr}function so(e,n,r,i,o){e.dump=function(){if(n.length===0)return e.quotingType===ee?'""':"''";if(!e.noCompatMode&&(Ri.indexOf(n)!==-1||eo.test(n)))return e.quotingType===ee?'"'+n+'"':"'"+n+"'";var l=e.indent*Math.max(1,r),t=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-l),a=i||e.flowLevel>-1&&r>=e.flowLevel;function s(f){return to(e,f)}switch(uo(n,a,e.indent,t,s,e.quotingType,e.forceQuotes&&!i,o)){case er:return n;case Fe:return"'"+n.replace(/'/g,"''")+"'";case nr:return"|"+cn(n,e.indent)+fn(an(n,l));case rr:return">"+cn(n,e.indent)+fn(an(co(n,t),l));case V:return'"'+fo(n)+'"';default:throw new k("impossible error: invalid scalar style")}}()}function cn(e,n){var r=Rn(e)?String(n):"",i=e[e.length-1]===`
`,o=i&&(e[e.length-2]===`
`||e===`
`),l=o?"+":i?"":"-";return r+l+`
`}function fn(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function co(e,n){for(var r=/(\n+)([^\n]*)/g,i=function(){var f=e.indexOf(`
`);return f=f!==-1?f:e.length,r.lastIndex=f,pn(e.slice(0,f),n)}(),o=e[0]===`
`||e[0]===" ",l,t;t=r.exec(e);){var a=t[1],s=t[2];l=s[0]===" ",i+=a+(!o&&!l&&s!==""?`
`:"")+pn(s,n),o=l}return i}function pn(e,n){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,i,o=0,l,t=0,a=0,s="";i=r.exec(e);)a=i.index,a-o>n&&(l=t>o?t:a,s+=`
`+e.slice(o,l),o=l+1),t=a;return s+=`
`,e.length-o>n&&t>o?s+=e.slice(o,t)+`
`+e.slice(t+1):s+=e.slice(o),s.slice(1)}function fo(e){for(var n="",r=0,i,o=0;o<e.length;r>=65536?o+=2:o++)r=Z(e,o),i=_[r],!i&&ne(r)?(n+=e[o],r>=65536&&(n+=e[o+1])):n+=i||ro(r);return n}function po(e,n,r){var i="",o=e.tag,l,t,a;for(l=0,t=r.length;l<t;l+=1)a=r[l],e.replacer&&(a=e.replacer.call(r,String(l),a)),(B(e,n,a,!1,!1)||typeof a>"u"&&B(e,n,null,!1,!1))&&(i!==""&&(i+=","+(e.condenseFlow?"":" ")),i+=e.dump);e.tag=o,e.dump="["+i+"]"}function dn(e,n,r,i){var o="",l=e.tag,t,a,s;for(t=0,a=r.length;t<a;t+=1)s=r[t],e.replacer&&(s=e.replacer.call(r,String(t),s)),(B(e,n+1,s,!0,!0,!1,!0)||typeof s>"u"&&B(e,n+1,null,!0,!0,!1,!0))&&((!i||o!=="")&&(o+=Ee(e,n)),e.dump&&R===e.dump.charCodeAt(0)?o+="-":o+="- ",o+=e.dump);e.tag=l,e.dump=o||"[]"}function mo(e,n,r){var i="",o=e.tag,l=Object.keys(r),t,a,s,f,g;for(t=0,a=l.length;t<a;t+=1)g="",i!==""&&(g+=", "),e.condenseFlow&&(g+='"'),s=l[t],f=r[s],e.replacer&&(f=e.replacer.call(r,s,f)),B(e,n,s,!1,!1)&&(e.dump.length>1024&&(g+="? "),g+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),B(e,n,f,!1,!1)&&(g+=e.dump,i+=g));e.tag=o,e.dump="{"+i+"}"}function ho(e,n,r,i){var o="",l=e.tag,t=Object.keys(r),a,s,f,g,c,h;if(e.sortKeys===!0)t.sort();else if(typeof e.sortKeys=="function")t.sort(e.sortKeys);else if(e.sortKeys)throw new k("sortKeys must be a boolean or a function");for(a=0,s=t.length;a<s;a+=1)h="",(!i||o!=="")&&(h+=Ee(e,n)),f=t[a],g=r[f],e.replacer&&(g=e.replacer.call(r,f,g)),B(e,n+1,f,!0,!0,!0)&&(c=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,c&&(e.dump&&R===e.dump.charCodeAt(0)?h+="?":h+="? "),h+=e.dump,c&&(h+=Ee(e,n)),B(e,n+1,g,!0,c)&&(e.dump&&R===e.dump.charCodeAt(0)?h+=":":h+=": ",h+=e.dump,o+=h));e.tag=l,e.dump=o||"{}"}function mn(e,n,r){var i,o,l,t,a,s;for(o=r?e.explicitTypes:e.implicitTypes,l=0,t=o.length;l<t;l+=1)if(a=o[l],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof n=="object"&&n instanceof a.instanceOf)&&(!a.predicate||a.predicate(n))){if(r?a.multi&&a.representName?e.tag=a.representName(n):e.tag=a.tag:e.tag="?",a.represent){if(s=e.styleMap[a.tag]||a.defaultStyle,Wn.call(a.represent)==="[object Function]")i=a.represent(n,s);else if(Gn.call(a.represent,s))i=a.represent[s](n,s);else throw new k("!<"+a.tag+'> tag resolver accepts not "'+s+'" style');e.dump=i}return!0}return!1}function B(e,n,r,i,o,l,t){e.tag=null,e.dump=r,mn(e,r,!1)||mn(e,r,!0);var a=Wn.call(e.dump),s=i,f;i&&(i=e.flowLevel<0||e.flowLevel>n);var g=a==="[object Object]"||a==="[object Array]",c,h;if(g&&(c=e.duplicates.indexOf(r),h=c!==-1),(e.tag!==null&&e.tag!=="?"||h||e.indent!==2&&n>0)&&(o=!1),h&&e.usedDuplicates[c])e.dump="*ref_"+c;else{if(g&&h&&!e.usedDuplicates[c]&&(e.usedDuplicates[c]=!0),a==="[object Object]")i&&Object.keys(e.dump).length!==0?(ho(e,n,e.dump,o),h&&(e.dump="&ref_"+c+e.dump)):(mo(e,n,e.dump),h&&(e.dump="&ref_"+c+" "+e.dump));else if(a==="[object Array]")i&&e.dump.length!==0?(e.noArrayIndent&&!t&&n>0?dn(e,n-1,e.dump,o):dn(e,n,e.dump,o),h&&(e.dump="&ref_"+c+e.dump)):(po(e,n,e.dump),h&&(e.dump="&ref_"+c+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&so(e,e.dump,n,l,s);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new k("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(f=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?f="!"+f:f.slice(0,18)==="tag:yaml.org,2002:"?f="!!"+f.slice(18):f="!<"+f+">",e.dump=f+" "+e.dump)}return!0}function go(e,n){var r=[],i=[],o,l;for(Ie(e,r,i),o=0,l=i.length;o<l;o+=1)n.duplicates.push(r[i[o]]);n.usedDuplicates=new Array(l)}function Ie(e,n,r){var i,o,l;if(e!==null&&typeof e=="object")if(o=n.indexOf(e),o!==-1)r.indexOf(o)===-1&&r.push(o);else if(n.push(e),Array.isArray(e))for(o=0,l=e.length;o<l;o+=1)Ie(e[o],n,r);else for(i=Object.keys(e),o=0,l=i.length;o<l;o+=1)Ie(e[i[o]],n,r)}function xo(e,n){n=n||{};var r=new oo(n);r.noRefs||go(e,r);var i=e;return r.replacer&&(i=r.replacer.call({"":i},"",i)),B(r,0,i,!0,!0)?r.dump+`
`:""}var vo=xo,yo={dump:vo};function De(e,n){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+n+" instead, which is now safe by default.")}}var Ao=I,bo=xn,Co=bn,wo=Nn,So=En,To=ke,No=Vn.load,Eo=Vn.loadAll,Fo=yo.dump,Io=k,_o={binary:On,float:Tn,map:An,null:Cn,pairs:Pn,set:Dn,timestamp:_n,bool:wn,int:Sn,merge:kn,omap:Ln,seq:yn,str:vn},ko=De("safeLoad","load"),Oo=De("safeLoadAll","loadAll"),Lo=De("safeDump","dump"),re={Type:Ao,Schema:bo,FAILSAFE_SCHEMA:Co,JSON_SCHEMA:wo,CORE_SCHEMA:So,DEFAULT_SCHEMA:To,load:No,loadAll:Eo,dump:Fo,YAMLException:Io,types:_o,safeLoad:ko,safeLoadAll:Oo,safeDump:Lo};function Me({onImport:e,onClose:n}){let[r,i]=T("url"),[o,l]=T(""),[t,a]=T(""),[s,f]=T(!1),[g,c]=T(null),[h,m]=T(null),y=async()=>{if(!o.trim()){c("Bitte geben Sie eine URL ein");return}f(!0),c(null);try{let p=await fetch(o);if(!p.ok)throw new Error(`HTTP ${p.status}: ${p.statusText}`);let A=p.headers.get("content-type"),C=await p.text(),b;if(A?.includes("application/json"))b=JSON.parse(C);else if(A?.includes("yaml")||A?.includes("yml")||o.endsWith(".yaml")||o.endsWith(".yml"))b=re.load(C);else try{b=JSON.parse(C)}catch{try{b=re.load(C)}catch{throw new Error("Konnte weder als JSON noch als YAML geparst werden")}}d(b,o)}catch(p){c(`Import fehlgeschlagen: ${p.message}`)}finally{f(!1)}},v=p=>{let A=p.target.files[0];if(!A)return;let C=new FileReader;C.onload=b=>{try{let N=b.target.result,S;if(A.name.endsWith(".json"))S=JSON.parse(N);else if(A.name.endsWith(".yaml")||A.name.endsWith(".yml"))S=re.load(N);else try{S=JSON.parse(N)}catch{S=re.load(N)}a(N),d(S)}catch(N){c(`Datei-Parse fehlgeschlagen: ${N.message}`)}},C.readAsText(A)},d=(p,A=null)=>{try{let C={};if(A)try{let N=new URL(A);C.sourceOrigin=N.origin}catch{console.warn("Could not parse source URL:",A)}let b=Xe(p,C);if(b.length===0){c("Keine importierbaren APIs gefunden");return}m(b),c(null)}catch(C){c(`Konvertierung fehlgeschlagen: ${C.message}`)}},w=()=>{h&&h.length>0&&(e(h),n())};return u.createElement("div",{className:"modal-overlay",onClick:n},u.createElement("div",{className:"modal-content import-dialog",onClick:p=>p.stopPropagation()},u.createElement("div",{className:"modal-header"},u.createElement("h2",null,"\u{1F4E5} API Import (OpenAPI 3.0)"),u.createElement("button",{className:"close-button",onClick:n},"\u2715")),u.createElement("div",{className:"modal-body"},u.createElement(X,{tabs:[{id:"url",label:"URL Import"},{id:"file",label:"Datei Upload"}],activeTab:r,onChange:i}),u.createElement("div",{className:"tab-content"},r==="url"&&u.createElement("div",{className:"import-url"},u.createElement("label",null,"OpenAPI Specification URL:",u.createElement("input",{type:"url",value:o,onChange:p=>l(p.target.value),placeholder:"https://api.example.com/openapi.json",disabled:s})),u.createElement("button",{className:"btn-primary",onClick:y,disabled:s||!o.trim()},s?"L\xE4dt...":"\u{1F504} Importieren"),u.createElement("div",{className:"help-text"},u.createElement("strong",null,"Beispiel:"),u.createElement("ul",null,u.createElement("li",null,"https://petstore3.swagger.io/api/v3/openapi.json")),u.createElement("small",{style:{display:"block",marginTop:"8px",color:"#27ae60"}},"\u2713 JSON und YAML werden unterst\xFCtzt"))),r==="file"&&u.createElement("div",{className:"import-file"},u.createElement("label",{className:"file-upload-label"},u.createElement("input",{type:"file",accept:".json,.yaml,.yml",onChange:v,style:{display:"none"}}),u.createElement("div",{className:"file-upload-area"},u.createElement("div",{className:"upload-icon"},"\u{1F4C1}"),u.createElement("div",{className:"upload-text"},u.createElement("strong",null,"Datei ausw\xE4hlen"),u.createElement("br",null),u.createElement("small",null,"OpenAPI JSON (.json) oder YAML (.yaml, .yml)")))),t&&u.createElement("div",{className:"file-info"},"\u2713 Datei geladen (",t.length," Zeichen)"))),g&&u.createElement("div",{className:"error-message"},"\u274C ",g),h&&h.length>0&&u.createElement("div",{className:"import-preview"},u.createElement("h3",null,"\u{1F4CB} Vorschau (",h.length," APIs)"),u.createElement("div",{className:"preview-list"},h.map((p,A)=>u.createElement("div",{key:A,className:"preview-item"},u.createElement("div",{className:"preview-header"},u.createElement("span",{className:"api-method"},p.method),u.createElement("strong",null,p.name)),u.createElement("div",{className:"preview-details"},u.createElement("small",null,p.endpoint),u.createElement("span",{className:"field-count"},p.fields.length," Felder"))))))),u.createElement("div",{className:"modal-footer"},u.createElement("button",{className:"btn-secondary",onClick:n},"Abbrechen"),u.createElement("button",{className:"btn-primary",onClick:w,disabled:!h||h.length===0},"\u2713 ",h?`${h.length} APIs importieren`:"Importieren"))))}function Po(){let[e,n]=T([]),[r,i]=T(null),[o,l]=T(null),[t,a]=T(null),[s,f]=T("request"),[g,c]=T(!0),[h,m]=T(null),[y,v]=T(!1);P(()=>{d()},[]);let d=async()=>{try{c(!0);let b=await fetch("/config/apis.json");if(!b.ok)throw new Error(`Fehler beim Laden der APIs: ${b.statusText}`);let N=await b.json();n(N.apis||[]),N.apis&&N.apis.length>0&&i(N.apis[0]),c(!1)}catch(b){m(b.message),c(!1),console.error("Fehler beim Laden der APIs:",b)}},w=b=>{i(b),l(null),a(null),f("request")},p=b=>{l(b)},A=b=>{let N=e.find(S=>S.id===b.apiId);N&&(i(N),a(b.payload),f("request"))},C=b=>{let N=[...e,...b];n(N),b.length>0&&(i(b[0]),f("request")),v(!1)};return g?u.createElement("div",{className:"app-container"},u.createElement("div",{className:"loading"},u.createElement("div",{className:"spinner"}),u.createElement("p",null,"Lade API-Konfiguration..."))):h?u.createElement("div",{className:"app-container"},u.createElement(D,{icon:"\u274C",message:"Fehler beim Laden"},u.createElement("p",{style:{marginTop:"10px"}},h),u.createElement("button",{onClick:d,className:"btn-primary",style:{marginTop:"15px"}},"Erneut versuchen"))):e.length===0?u.createElement("div",{className:"app-container"},u.createElement(D,{icon:"\u2699\uFE0F",message:"Keine APIs konfiguriert"},u.createElement("p",{style:{marginTop:"10px"}},"Bitte f\xFCgen Sie API-Definitionen in ",u.createElement("code",null,"config/apis.json")," hinzu."))):u.createElement("div",{className:"app-container"},u.createElement("header",{className:"app-header"},u.createElement("div",{className:"header-content"},u.createElement("div",null,u.createElement("h1",null,"\u{1F680} API Test Framework"),u.createElement("p",{className:"subtitle"},"Flexibles Testing f\xFCr REST APIs")),u.createElement("button",{onClick:()=>v(!0),className:"btn-import",title:"Import API from OpenAPI 3.0 Specification"},"\u{1F4E5} Import OpenAPI"))),u.createElement("div",{className:"api-selector-container"},u.createElement(me,{apis:e,selectedApiId:r?.id,onSelect:w})),u.createElement("div",{className:"main-content"},u.createElement("div",{className:"sidebar"},u.createElement(X,{activeTab:s,onChange:f,tabs:[{id:"request",label:"\u{1F4DD} Request"},{id:"auth",label:"\u{1F510} Auth"},{id:"history",label:"\u{1F4DC} Historie"}]}),u.createElement("div",{className:"tab-content"},s==="request"&&u.createElement(ge,{api:r,onResponse:p,initialValues:t}),s==="auth"&&u.createElement(ve,{apiId:r?.id}),s==="history"&&u.createElement(Ae,{onReplay:A}))),u.createElement("div",{className:"response-panel"},u.createElement(xe,{response:o}))),u.createElement("footer",{className:"app-footer"},u.createElement("p",null,"API Test Framework v1.0 | React + esbuild")),y&&u.createElement(Me,{onImport:C,onClose:()=>v(!1)}))}var Do=Ue.createRoot(document.getElementById("root"));Do.render(u.createElement(Po,null));})();
/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.1 https://github.com/nodeca/js-yaml @license MIT *)
*/
